/*!
 * Web analytics for Snowplow v3.18.0 (http://bit.ly/sp-js)
 * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
 * Licensed under BSD-3-Clause
 */

"use strict";!function(){function e(e,t){var n,r={};for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)0>t.indexOf(n[o])&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}function t(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function n(e,t){function n(n){return function(a){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=0<i.length&&i[i.length-1])||6!==n[0]&&2!==n[0])){s=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3]))s.label=n[1];else if(6===n[0]&&s.label<i[1])s.label=i[1],i=n;else{if(!(i&&s.label<i[2])){i[2]&&s.ops.pop(),s.trys.pop();continue}s.label=i[2],s.ops.push(n)}}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}var r,o,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}function r(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function o(){var e,t={},n=[],r=[],o=[],i=function(e,n){null!=n&&""!==n&&(t[e]=n)};return{add:i,addDict:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&i(t,e[t])},addJson:function(e,t,o){o&&a(o)&&(e={keyIfEncoded:e,keyIfNotEncoded:t,json:o},r.push(e),n.push(e))},addContextEntity:function(e){o.push(e)},getPayload:function(){return t},getJson:function(){return n},withJsonProcessor:function(t){e=t},build:function(){return null==e||e(this,r,o),t}}}function i(e){return function(t,n,o){for(var i=function(n,r,o){if(n=JSON.stringify(n),e){if(o=t.add,n){var i=0,a=0,s=[];if(n){n=unescape(encodeURIComponent(n));do{var l=n.charCodeAt(i++),c=n.charCodeAt(i++),u=n.charCodeAt(i++),d=l<<16|c<<8|u;l=d>>18&63,c=d>>12&63,u=d>>6&63,d&=63,s[a++]=Mt.charAt(l)+Mt.charAt(c)+Mt.charAt(u)+Mt.charAt(d)}while(i<n.length);i=s.join(""),n=((n=n.length%3)?i.slice(0,n-3):i)+"===".slice(n||3)}n=n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}o.call(t,r,n)}else t.add(o,n)},a=function(n,r){if(!n){var o=t.getPayload();if(e?o.cx:o.co){var i=(n=JSON).parse;if(e){if(o=o.cx){switch(4-o.length%4){case 2:o+="==";break;case 3:o+="="}o=function(e){var t,n=0,r=0,o="",i=[];if(!e)return e;e+="";do{var a=Mt.indexOf(e.charAt(n++)),s=Mt.indexOf(e.charAt(n++));o=Mt.indexOf(e.charAt(n++));var l=Mt.indexOf(e.charAt(n++)),c=a<<18|s<<12|o<<6|l;a=c>>16&255,s=c>>8&255,c&=255,i[r++]=64===o?String.fromCharCode(a):64===l?String.fromCharCode(a,s):String.fromCharCode(a,s,c)}while(n<e.length);return o=i.join(""),t=o.replace(/\0+$/,""),decodeURIComponent(t.split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}(o=o.replace(/-/g,"+").replace(/_/g,"/"))}}else o=o.co;n=i.call(n,o)}else n=void 0}return n?n.data=n.data.concat(r.data):n=r,n},s=void 0,l=0;l<n.length;l++){var c=n[l];"cx"===c.keyIfEncoded?s=a(s,c.json):i(c.json,c.keyIfEncoded,c.keyIfNotEncoded)}n.length=0,o.length&&(s=a(s,n={schema:"iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0",data:r([],o,!0)}),o.length=0),s&&i(s,"cx","co")}}function a(e){if(!s(e))return!1;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}function s(e){return null!=e&&(e.constructor==={}.constructor||e.constructor===[].constructor)}function l(){var e=[],t=[];return{getGlobalPrimitives:function(){return e},getConditionalProviders:function(){return t},addGlobalContexts:function(n){for(var r=[],o=[],i=0;i<n.length;i++){var a=n[i];C(a)?r.push(a):y(a)&&o.push(a)}e=e.concat(o),t=t.concat(r)},clearGlobalContexts:function(){t=[],e=[]},removeGlobalContexts:function(n){for(var r=function(n){C(n)?t=t.filter((function(e){return JSON.stringify(e)!==JSON.stringify(n)})):y(n)&&(e=e.filter((function(e){return JSON.stringify(e)!==JSON.stringify(n)})))},o=0;o<n.length;o++)r(n[o])},getApplicableContexts:function(n){e:{for(var r=0,o=n.getJson();r<o.length;r++){var i=o[r];if("ue_px"===i.keyIfEncoded&&"object"==typeof i.json.data&&"string"==typeof(i=i.json.data.schema)){r=i;break e}}r=""}i="string"==typeof(o=n.getPayload().e)?o:"",o=[];var a=A(e,n,i,r);return o.push.apply(o,a),n=function(e,t,n,r){var o;return e=S(e).map((function(e){e:{if(v(e)){var o=e[0],i=!1;try{i=o({event:t.getPayload(),eventType:n,eventSchema:r})}catch(e){i=!1}if(!0===i){e=A(e[1],t,n,r);break e}}else if(I(e)&&function(e,t){var n=0,r=0,o=e.accept;return Array.isArray(o)?e.accept.some((function(e){return w(e,t)}))&&r++:"string"==typeof o&&w(o,t)&&r++,o=e.reject,Array.isArray(o)?e.reject.some((function(e){return w(e,t)}))&&n++:"string"==typeof o&&w(o,t)&&n++,0<r&&0===n}(e[0],r)){e=A(e[1],t,n,r);break e}e=[]}if(e&&0!==e.length)return e})),(o=[]).concat.apply(o,e.filter((function(e){return null!=e&&e.filter(Boolean)})))}(t,n,i,r),o.push.apply(o,n),o}}}function c(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return null!==(t=null==e?void 0:e.map((function(e){if("function"!=typeof e)return e;try{return e.apply(void 0,n)}catch(e){}})).filter(Boolean))&&void 0!==t?t:[]}function u(e){return!!((e=e.split("."))&&1<e.length)&&function(e){if("*"===e[0]||"*"===e[1])return!1;if(0<e.slice(2).length){var t=!1,n=0;for(e=e.slice(2);n<e.length;n++)if("*"===e[n])t=!0;else if(t)return!1;return!0}return 2==e.length}(e)}function d(e){if(null!==(e=/^iglu:((?:(?:[a-zA-Z0-9-_]+|\*).)+(?:[a-zA-Z0-9-_]+|\*))\/([a-zA-Z0-9-_.]+|\*)\/jsonschema\/([1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)$/.exec(e))&&u(e[1]))return e.slice(1,6)}function f(e){if(e=d(e)){var t=e[0];return 5===e.length&&u(t)}return!1}function p(e){return Array.isArray(e)&&e.every((function(e){return"string"==typeof e}))}function h(e){return p(e)?e.every((function(e){return f(e)})):"string"==typeof e&&f(e)}function g(e){return!!(a(e)&&"schema"in e&&"data"in e)&&("string"==typeof e.schema&&"object"==typeof e.data)}function m(e){return"function"==typeof e&&1>=e.length}function y(e){return m(e)||g(e)}function v(e){return!(!Array.isArray(e)||2!==e.length)&&(Array.isArray(e[1])?m(e[0])&&e[1].every(y):m(e[0])&&y(e[1]))}function I(e){return!(!Array.isArray(e)||2!==e.length)&&(!!function(e){var t=0;if(null!=e&&"object"==typeof e&&!Array.isArray(e)){if(Object.prototype.hasOwnProperty.call(e,"accept")){if(!h(e.accept))return!1;t+=1}if(Object.prototype.hasOwnProperty.call(e,"reject")){if(!h(e.reject))return!1;t+=1}return 0<t&&2>=t}return!1}(e[0])&&(Array.isArray(e[1])?e[1].every(y):y(e[1])))}function C(e){return v(e)||I(e)}function w(e,t){if(!f(e))return!1;if(e=d(e),t=null!==(t=/^iglu:([a-zA-Z0-9-_.]+)\/([a-zA-Z0-9-_]+)\/jsonschema\/([1-9][0-9]*)-(0|[1-9][0-9]*)-(0|[1-9][0-9]*)$/.exec(t))?t.slice(1,6):void 0,e&&t){if(!function(e,t){if(t=t.split("."),e=e.split("."),t&&e){if(t.length!==e.length)return!1;for(var n=0;n<e.length;n++)if(!b(t[n],e[n]))return!1;return!0}return!1}(e[0],t[0]))return!1;for(var n=1;5>n;n++)if(!b(e[n],t[n]))return!1;return!0}return!1}function b(e,t){return e&&t&&"*"===e||e===t}function S(e){return Array.isArray(e)?e:[e]}function A(e,t,n,r){var o;return e=S(e).map((function(e){e:if(g(e))e=[e];else{if(m(e)){t:{var o=void 0;try{if(o=e({event:t.getPayload(),eventType:n,eventSchema:r}),Array.isArray(o)&&o.every(g)||g(o)){var i=o;break t}i=void 0;break t}catch(e){}i=void 0}if(g(i)){e=[i];break e}if(Array.isArray(i)){e=i;break e}}e=void 0}if(e&&0!==e.length)return e})),(o=[]).concat.apply(o,e.filter((function(e){return null!=e&&e.filter(Boolean)})))}function k(e){void 0===e&&(e={});var t,n,o,a,c,u,d,f=e.base64,p=e.corePlugins,h=null!=p?p:[];t=null==f||f,n=h,o=e.callback,a=function(e){return{addPluginContexts:function(t){var n=t?r([],t,!0):[];return e.forEach((function(e){try{e.contexts&&n.push.apply(n,e.contexts())}catch(e){Ot.error("Error adding plugin contexts",e)}})),n}}}(n),c=l(),u=t,d={};var g=ct(ct({},e={track:function(e,t,r){e.withJsonProcessor(i(u)),e.add("eid",Tt.v4()),e.addDict(d),r=function(e){return null==e?{type:"dtm",value:(new Date).getTime()}:"number"==typeof e?{type:"dtm",value:e}:"ttm"===e.type?{type:"ttm",value:e.value}:{type:"dtm",value:e.value||(new Date).getTime()}}(r),e.add(r.type,r.value.toString()),t=function(e,t){e=c.getApplicableContexts(e);var n=[];return t&&t.length&&n.push.apply(n,t),e&&e.length&&n.push.apply(n,e),n}(e,a.addPluginContexts(t)),void 0!==(t=t&&t.length?{schema:"iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0",data:t}:void 0)&&e.addJson("cx","co",t),n.forEach((function(t){try{t.beforeTrack&&t.beforeTrack(e)}catch(e){Ot.error("Plugin beforeTrack",e)}})),"function"==typeof o&&o(e);var s=e.build();return n.forEach((function(e){try{e.afterTrack&&e.afterTrack(s)}catch(e){Ot.error("Plugin afterTrack",e)}})),s},addPayloadPair:function(e,t){d[e]=t},getBase64Encoding:function(){return u},setBase64Encoding:function(e){u=e},addPayloadDict:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(d[t]=e[t])},resetPayloadPairs:function(e){d=s(e)?e:{}},setTrackerVersion:function(e){d.tv=e},setTrackerNamespace:function(e){d.tna=e},setAppId:function(e){d.aid=e},setPlatform:function(e){d.p=e},setUserId:function(e){d.uid=e},setScreenResolution:function(e,t){d.res=e+"x"+t},setViewport:function(e,t){d.vp=e+"x"+t},setColorDepth:function(e){d.cd=e},setTimezone:function(e){d.tz=e},setLang:function(e){d.lang=e},setIpAddress:function(e){d.ip=e},setUseragent:function(e){d.ua=e},addGlobalContexts:function(e){c.addGlobalContexts(e)},clearGlobalContexts:function(){c.clearGlobalContexts()},removeGlobalContexts:function(e){c.removeGlobalContexts(e)}}),{addPlugin:function(e){var t,n;e=e.plugin,h.push(e),null===(t=e.logger)||void 0===t||t.call(e,Ot),null===(n=e.activateCorePlugin)||void 0===n||n.call(e,g)}});return null==h||h.forEach((function(e){var t,n;null===(t=e.logger)||void 0===t||t.call(e,Ot),null===(n=e.activateCorePlugin)||void 0===n||n.call(e,g)})),g}function T(e){var t=e.event;return e={schema:"iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0",data:{schema:e=t.schema,data:t.data}},(t=o()).add("e","ue"),t.addJson("ue_px","ue_pr",e),t}function M(e,t){void 0===t&&(t={});var n,r={};for(n in e)(t[n]||null!==e[n]&&void 0!==e[n])&&(r[n]=e[n]);return r}function O(e,t,n){void 0===n&&(n=63072e3);try{var r=window.localStorage,o=Date.now()+1e3*n;return r.setItem("".concat(e,".expires"),o.toString()),r.setItem(e,t),!0}catch(e){return!1}}function N(e){try{var t=window.localStorage;return t.removeItem(e),t.removeItem(e+".expires"),!0}catch(e){return!1}}function x(e){try{return window.sessionStorage.getItem(e)}catch(e){}}function E(e){return Number.isInteger&&Number.isInteger(e)||"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function R(e){if(!e||"string"!=typeof e.valueOf()){e=e.text||"";var t=document.getElementsByTagName("title");t&&null!=t[0]&&(e=t[0].text)}return e}function D(e){var t=/^(?:(?:https?|ftp):)\/*(?:[^@]+@)?([^:/#]+)/.exec(e);return t?t[1]:e}function L(e){var t=e.length;return"."===e.charAt(--t)&&(e=e.slice(0,t)),"*."===e.slice(0,2)&&(e=e.slice(1)),e}function F(e){var t=window,n=U("referrer",t.location.href)||U("referer",t.location.href);if(n)return n;if(e)return e;try{if(t.top)return t.top.document.referrer;if(t.parent)return t.parent.document.referrer}catch(e){}return document.referrer}function B(e,t,n,r){return e.addEventListener?(e.addEventListener(t,n,r),!0):e.attachEvent?e.attachEvent("on"+t,n):void(e["on"+t]=n)}function U(e,t){return(e=new RegExp("^[^#]*[?&]"+e+"=([^&#]*)").exec(t))?decodeURIComponent(e[1].replace(/\+/g," ")):null}function P(e,t,n,r,o,i,a){return 1<arguments.length?document.cookie=e+"="+encodeURIComponent(null!=t?t:"")+(n?"; Expires="+new Date(+new Date+1e3*n).toUTCString():"")+(r?"; Path="+r:"")+(o?"; Domain="+o:"")+(i?"; SameSite="+i:"")+(a?"; Secure":""):decodeURIComponent((("; "+document.cookie).split("; "+e+"=")[1]||"").split(";")[0])}function V(e){if(null==e||"object"!=typeof e||Array.isArray(e))return function(){return!0};var t=e.hasOwnProperty("allowlist"),n=_(e);return W(e,(function(e){return e.name in n===t}))}function W(e,t){return e.hasOwnProperty("filter")&&e.filter?e.filter:t}function _(e){var t={};if(e=e.allowlist||e.denylist){Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++)t[e[n]]=!0}return t}function G(e,t,n,r,o,i,a,s,l,c,u,d,f,p,h,g,m,y,v,I){function C(e){var t=Object.keys(e).map((function(t){return[t,e[t]]})).reduce((function(e,t){return e[t[0]]=t[1].toString(),e}),{});return{evt:t,bytes:w(JSON.stringify(t))}}function w(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);127>=r?t+=1:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,n++):t=65535>r?t+3:t+4}return t}function b(e,t){var n=M(t,!0,!1),r=x([e.evt]);n.onreadystatechange=function(){4===n.readyState&&(T(n.status)?null==v||v(r):null==I||I({status:n.status,message:n.statusText,events:r,willRetry:!1}))},n.send(N(r))}function S(e){for(var t=0;t<e;t++)U.shift();n&&O(j,JSON.stringify(U.slice(0,c)))}function A(e,t,n){e.onreadystatechange=function(){if(4===e.readyState)if(clearTimeout(r),T(e.status))S(t),null==v||v(n),k();else{var o=e.status;(o=!(T(o)||!y)&&(!!h.includes(o)||!g.includes(o)))||(Ot.error("Status ".concat(e.status,", will not retry.")),S(t)),null==I||I({status:e.status,message:e.statusText,events:n,willRetry:o}),B=!1}};var r=setTimeout((function(){e.abort(),y||S(t),null==I||I({status:0,message:"timeout",events:n,willRetry:y}),B=!1}),u)}function k(e){for(void 0===e&&(e=!1);U.length&&"string"!=typeof U[0]&&"object"!=typeof U[0];)U.shift();if(U.length){if(!R||"string"!=typeof R.valueOf())throw"No collector configured";if(B=!0,m&&!P){var t=M(m,!1,e);P=!0,t.timeout=u,t.onreadystatechange=function(){4===t.readyState&&k()},t.send()}else if(_){var r=function(e){for(var t=0,n=0;t<e.length&&!((n+=e[t].bytes)>=a);)t+=1;return t},o=void 0,i=void 0,s=void 0;if(K(U)?(i=M(o=R,!0,e),s=r(U)):(i=M(o=E(U[0]),!1,e),s=1),K(U)){if(0<(e=U.slice(0,s)).length){r=!1;var l=e.map((function(e){return e.evt}));if(W){var f=new Blob([N(x(l))],{type:"application/json"});try{r=navigator.sendBeacon(o,f)}catch(e){r=!1}}!0===r?(S(s),null==v||v(e),k()):(A(i,s,o=x(l)),i.send(N(o)))}}else A(i,s,[o]),i.send()}else if(d||K(U))B=!1;else{i=new Image(1,1);var p=!0;i.onload=function(){p&&(p=!1,U.shift(),n&&O(j,JSON.stringify(U.slice(0,c))),k())},i.onerror=function(){p&&(B=p=!1)},i.src=E(U[0]),setTimeout((function(){p&&B&&(p=!1,k())}),u)}}else B=!1}function T(e){return 200<=e&&300>e}function M(e,t,n){var r=new XMLHttpRequest;for(var o in t?(r.open("POST",e,!n),r.setRequestHeader("Content-Type","application/json; charset=UTF-8")):r.open("GET",e,!n),r.withCredentials=p,d&&r.setRequestHeader("SP-Anonymous","*"),f)Object.prototype.hasOwnProperty.call(f,o)&&r.setRequestHeader(o,f[o]);return r}function N(e){return JSON.stringify({schema:"iglu:com.snowplowanalytics.snowplow/payload_data/jsonschema/1-0-4",data:e})}function x(e){for(var t=(new Date).getTime().toString(),n=0;n<e.length;n++)e[n].stm=t;return e}function E(e){return l?R+e.replace("?","?stm="+(new Date).getTime()+"&"):R+e}void 0===y&&(y=!0);var R,D,L,F,B=!1,U=[],P=!1,V=!0===(r="string"==typeof r?r.toLowerCase():r)||"beacon"===r||"true"===r,W=!(!(V&&window.navigator&&window.navigator.sendBeacon)||(D=window.navigator.userAgent,(F=(F=D).match("(iP.+; CPU .*OS (d+)[_d]*.*) AppleWebKit/"))&&F.length&&parseInt(F[0])<=13||function(e,t,n){return!(!(n=n.match("(Macintosh;.*Mac OS X (d+)_(d+)[_d]*.*) AppleWebKit/"))||!n.length)&&(parseInt(n[0])<=e||parseInt(n[0])===e&&parseInt(n[1])<=t)}(10,15,D)&&(L=D).match("Version/.* Safari/")&&!L.match("Chrom(e|ium)")))&&V,_=!(!window.XMLHttpRequest||!("withCredentials"in new XMLHttpRequest)),G="get"!==r&&_&&("post"===r||V),Z=G?o:"/i",j="snowplowOutQueue_".concat(e,"_").concat(G?"post2":"get");if(V&&(f={}),i=n&&function(){try{var e=!!window.localStorage}catch(t){e=!0}if(!e)return!1;try{var t=window.localStorage;return t.setItem("modernizr","modernizr"),t.removeItem("modernizr"),!0}catch(e){return!1}}()&&G&&i||1,n)try{var z=window.localStorage.getItem(j);U=z?JSON.parse(z):[]}catch(D){}Array.isArray(U)||(U=[]),t.outQueues.push(U),_&&1<i&&t.bufferFlushers.push((function(e){B||k(e)}));var K=function(e){return"object"==typeof e[0]&&"evt"in e[0]};return{enqueueRequest:function(e,t){if(R=t+Z,G){if((e=C(e)).bytes>=a)return Ot.warn("Event ("+e.bytes+"B) too big, max is "+a),void b(e,R);U.push(e)}else{var r,l="?",u={co:!0,cx:!0},d=!0;for(r in e)e.hasOwnProperty(r)&&!u.hasOwnProperty(r)&&(d?d=!1:l+="&",l+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));for(var f in u)e.hasOwnProperty(f)&&u.hasOwnProperty(f)&&(l+="&"+f+"="+encodeURIComponent(e[f]));if(0<s&&(u=w(u=E(l)))>=s)return Ot.warn("Event ("+u+"B) too big, max is "+s),void(_&&(e=C(e),b(e,t+o)));U.push(l)}t=!1,n&&(t=O(j,JSON.stringify(U.slice(0,c)))),B||t&&!(U.length>=i)||k()},executeQueue:function(){B||k()},setUseLocalStorage:function(e){n=e},setAnonymousTracking:function(e){d=e},setCollectorUrl:function(e){R=e+Z},setBufferSize:function(e){i=e}}}function Z(e,t,n){return"translate.googleusercontent.com"===e?(""===n&&(n=t),e=D(t=null!=(e=(e=/^(?:https?|ftp)(?::\/*(?:[^?]+))([?][^#]+)/.exec(t))&&1<(null==e?void 0:e.length)?U("u",e[1]):null)?e:"")):"cc.bingj.com"!==e&&"webcache.googleusercontent.com"!==e||(e=D(t=document.links[0].href)),[e,t,n]}function j(e,t){return void 0===t&&(t={memorizedVisitCount:1}),t=t.memorizedVisitCount,"0"===e[0]?(e[7]=e[6],e[5]=e[4],e[3]++):e[3]=t,t=Tt.v4(),e[6]=t,e[10]=0,e[8]="",e[9]=void 0,t}function z(e){e[4]=Math.round((new Date).getTime()/1e3)}function K(e,t,n){var r=e[9];return{userId:n?"00000000-0000-0000-0000-000000000000":e[1],sessionId:e[6],eventIndex:e[10],sessionIndex:e[3],previousSessionId:n?null:e[7]||null,storageMechanism:"localStorage"==t?"LOCAL_STORAGE":"COOKIE_1",firstEventId:e[8]||null,firstEventTimestamp:r?new Date(r).toISOString():null}}function H(){var e=J;if("innerWidth"in window)var t=window.innerWidth,n=window.innerHeight;else t=(n=document.documentElement||document.body).clientWidth,n=n.clientHeight;e=e(0<=t&&0<=n?t+"x"+n:null),t=J;var r=document.documentElement,o=document.body;return n=Math.max(r.clientWidth,r.offsetWidth,r.scrollWidth),r=Math.max(r.clientHeight,r.offsetHeight,r.scrollHeight,o?Math.max(o.offsetHeight,o.scrollHeight):0),{viewport:e,documentSize:t(n=isNaN(n)||isNaN(r)?"":n+"x"+r),resolution:J(screen.width+"x"+screen.height),colorDepth:screen.colorDepth,devicePixelRatio:window.devicePixelRatio,cookiesEnabled:window.navigator.cookieEnabled,online:window.navigator.onLine,browserLanguage:navigator.language||navigator.userLanguage,documentLanguage:document.documentElement.lang,webdriver:window.navigator.webdriver,deviceMemory:window.navigator.deviceMemory,hardwareConcurrency:window.navigator.hardwareConcurrency}}function J(e){return e&&e.split("x").map((function(e){return Math.floor(Number(e))})).join("x")}function Y(e,t,n,r,i,a){void 0===a&&(a={});var s=[];e=function(e,t,n,r,i,a){function l(){(Qe=Z(window.location.hostname,window.location.href,F()))[1]!==qe&&($e=F(qe)),Xe=L(Qe[0]),qe=Qe[1]}function c(e){var t=(new Date).getTime();if(null!=(e=e.currentTarget)&&e.href){t="_sp="+je+"."+t;var n=e.href.split("#"),r=n[0].split("?"),o=r.shift();if(r=r.join("?")){for(var i=!0,a=r.split("&"),s=0;s<a.length;s++)if("_sp="===a[s].substr(0,4)){i=!1,a[s]=t,r=a.join("&");break}i&&(r=t+"&"+r)}else r=t;n[0]=o+"?"+r,t=n.join("#"),e.href=t}}function u(e){for(var t=0;t<document.links.length;t++){var n=document.links[t];!n.spDecorationEnabled&&e(n)&&(B(n,"click",c,!0),B(n,"mousedown",c,!0),n.spDecorationEnabled=!0)}}function d(e){if(Fe){var t=/#.*/;e=e.replace(t,"")}return Be&&(t=/[{}]/g,e=e.replace(t,"")),e}function f(e){return(e=/^([a-z]+):/.exec(e))?e[1]:null}function p(e){if(e=at+e+"."+Ze,"localStorage"==It){try{var t=window.localStorage,n=t.getItem(e+".expires");if(null===n||+n>Date.now())var r=t.getItem(e);else t.removeItem(e),t.removeItem(e+".expires"),r=void 0}catch(e){r=void 0}return r}if("cookie"==It||"cookieAndLocalStorage"==It)return P(e)}function h(){l(),Ze=Lt((st||Xe)+(lt||"/")).slice(0,4)}function g(){Pe=(new Date).getTime()}function m(){var e=y(),t=e[0];t<Ve?Ve=t:t>We&&(We=t),(e=e[1])<_e?_e=e:e>Ge&&(Ge=e),g()}function y(){var e=document.documentElement;return e?[e.scrollLeft||window.pageXOffset,e.scrollTop||window.pageYOffset]:[0,0]}function v(){var e=y(),t=e[0];We=Ve=t,Ge=_e=e=e[1]}function I(){return w(at+"ses."+Ze,"*",gt)}function C(e){var t=at+"id."+Ze;return e.shift(),w(t,e=e.join("."),ht)}function w(e,t,n){return!(vt&&!mt)&&("localStorage"==It?O(e,t,n):("cookie"==It||"cookieAndLocalStorage"==It)&&(P(e,t,n,lt,st,ut,dt),-1!==document.cookie.indexOf("".concat(e,"="))))}function b(e){var t=at+"id."+Ze,n=at+"ses."+Ze;N(t),N(n),P(t,"",-1,"/",st,ut,dt),P(n,"",-1,"/",st,ut,dt),null!=e&&e.preserveSession||(ze=Tt.v4(),wt=1),null!=e&&e.preserveUser||(je=vt?"":Tt.v4(),Ke=null)}function S(e){e&&e.stateStorageStrategy&&(a.stateStorageStrategy=e.stateStorageStrategy,It=Me(a)),vt=!!a.anonymousTracking,mt=Oe(a),yt=Ne(a),bt.setUseLocalStorage("localStorage"==It||"cookieAndLocalStorage"==It),bt.setAnonymousTracking(yt)}function A(){if(!vt||mt){var e="none"!=It&&!!p("ses"),t=T();if(t[1])var n=t[1];else n=vt?"":Tt.v4(),t[1]=n;je=n,ze=e?t[6]:j(t),wt=t[3],"none"!=It&&(I(),z(t),C(t))}}function T(){return"none"==It?["1","",0,0,0,void 0,"","","",void 0,0]:function(e,t,n,r){var o=Math.round((new Date).getTime()/1e3);e?(e=e.split(".")).unshift("0"):e=["1",t,o,r,o,"",n],e[6]&&"undefined"!==e[6]||(e[6]=Tt.v4()),e[7]&&"undefined"!==e[7]||(e[7]=""),e[8]&&"undefined"!==e[8]||(e[8]=""),e[9]&&"undefined"!==e[9]||(e[9]=""),e[10]&&"undefined"!==e[10]||(e[10]=0);var i=function(e,t){return e=parseInt(e),isNaN(e)?t:e};return t=function(e){return e?i(e,void 0):void 0},[e[0],e[1],i(e[2],o),i(e[3],r),i(e[4],o),t(e[5]),e[6],e[7],e[8],t(e[9]),i(e[10],0)]}(p("id")||void 0,je,ze,wt)}function M(e){return 0===e.indexOf("http")?e:("https:"===document.location.protocol?"https":"http")+"://"+e}function V(){St&&null!=i.pageViewId||(i.pageViewId=Tt.v4())}function W(){return null==i.pageViewId&&(i.pageViewId=Tt.v4()),i.pageViewId}function _(){if("none"===It||vt||!Ee)return null;var e=x("_sp_tab_id");if(!e){e=Tt.v4();try{window.sessionStorage.setItem("_sp_tab_id",e)}catch(e){}e=x("_sp_tab_id")}return e||null}function J(e){var t=e.title,n=e.context,r=e.timestamp;if(e=e.contextCallback,l(),At&&V(),At=!0,ot=document.title,t=R((Le=t)||ot),Je.track(function(e){var t=e.pageUrl,n=e.pageTitle;e=e.referrer;var r=o();return r.add("e","pv"),r.add("url",t),r.add("page",n),r.add("refr",e),r}({pageUrl:d(De||qe),pageTitle:t,referrer:d(Re||$e)}),(n||[]).concat(e?e():[]),r),r=new Date,t=!1,kt.enabled&&!kt.installed){t=kt.installed=!0;var i={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0},set:function(){}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),i.hasSupport=e}}};i.update();var a="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";Object.prototype.hasOwnProperty.call(i,"hasSupport")?B(document,a,g,{passive:!0}):B(document,a,g),v(),a=function(e,t){return void 0===t&&(t=g),function(e){return B(document,e,t)}},"click mouseup mousedown mousemove keypress keydown keyup touchend touchstart".split(" ").forEach(a(document)),["resize","focus","blur"].forEach(a(window)),a(window,m)("scroll")}if(kt.enabled&&(it||t))for(r in Pe=r.getTime(),r=void 0,kt.configurations)(t=kt.configurations[r])&&(window.clearInterval(t.activityInterval),Y(t,n,e))}function Y(e,t,n){var r=function(e,t){l(),e({context:t,pageViewId:W(),minXOffset:Ve,minYOffset:_e,maxXOffset:We,maxYOffset:Ge}),v()},o=function(){Pe+e.configHeartBeatTimer>(new Date).getTime()&&r(e.callback,(t||[]).concat(n?n():[]))};e.activityInterval=0===e.configMinimumVisitLength?window.setInterval(o,e.configHeartBeatTimer):window.setTimeout((function(){Pe+e.configMinimumVisitLength>(new Date).getTime()&&r(e.callback,(t||[]).concat(n?n():[])),e.activityInterval=window.setInterval(o,e.configHeartBeatTimer)}),e.configMinimumVisitLength)}function Q(e){var t=e.minimumVisitLength,n=e.heartbeatDelay;if(e=e.callback,E(t)&&E(n))return{configMinimumVisitLength:1e3*t,configHeartBeatTimer:1e3*n,callback:e};Ot.error("Activity tracking minimumVisitLength & heartbeatDelay must be integers")}function X(e){var t=e.context,n=e.minXOffset,r=e.minYOffset,i=e.maxXOffset,a=e.maxYOffset;(e=document.title)!==ot&&(ot=e,Le=void 0);var s=(e=Je).track,l=d(De||qe),c=R(Le||ot),u=d(Re||$e);n=Math.round(n),i=Math.round(i),r=Math.round(r),a=Math.round(a);var f=o();f.add("e","pp"),f.add("url",l),f.add("page",c),f.add("refr",u),n&&!isNaN(Number(n))&&f.add("pp_mix",n.toString()),i&&!isNaN(Number(i))&&f.add("pp_max",i.toString()),r&&!isNaN(Number(r))&&f.add("pp_miy",r.toString()),a&&!isNaN(Number(a))&&f.add("pp_may",a.toString()),s.call(e,f,t)}function q(e){var t=kt.configurations[e];0===(null==t?void 0:t.configMinimumVisitLength)?window.clearTimeout(null==t?void 0:t.activityInterval):window.clearInterval(null==t?void 0:t.activityInterval),kt.configurations[e]=void 0}var $,ee,te,ne,re,oe,ie,ae,se,le,ce,ue,de,fe,pe,he,ge,me,ye,ve,Ie,Ce,we,be,Se,Ae,ke,Te;a.eventMethod=null!==($=a.eventMethod)&&void 0!==$?$:"post";var Me=function(e){var t;return null!==(t=e.stateStorageStrategy)&&void 0!==t?t:"cookieAndLocalStorage"},Oe=function(e){var t,n;return"boolean"!=typeof e.anonymousTracking&&(null!==(n=!0===(null===(t=e.anonymousTracking)||void 0===t?void 0:t.withSessionTracking))&&void 0!==n&&n)},Ne=function(e){var t,n;return"boolean"!=typeof e.anonymousTracking&&(null!==(n=!0===(null===(t=e.anonymousTracking)||void 0===t?void 0:t.withServerAnonymisation))&&void 0!==n&&n)},xe=null!==(te=null===(ee=null==a?void 0:a.contexts)||void 0===ee?void 0:ee.browser)&&void 0!==te&&te,Ee=null===(re=null===(ne=null==a?void 0:a.contexts)||void 0===ne?void 0:ne.webPage)||void 0===re||re;s.push({beforeTrack:function(e){var t=p("ses"),n=T(),r=0===n[10];if(He=!!Ue&&!!P(Ue),pt||He)b();else{if("0"===n[0]?(ze=t||"none"==It?n[6]:j(n),wt=n[3]):(new Date).getTime()-Ct>1e3*gt&&(wt++,ze=j(n,{memorizedVisitCount:wt})),z(n),0===n[10]){var o=e.build();n[8]=o.eid,o=o.dtm||o.ttm,n[9]=o?parseInt(o):void 0}n[10]+=1;var i=(o=H()).documentSize;e.add("vp",o.viewport),e.add("ds",i),e.add("vid",mt?wt:vt?null:wt),e.add("sid",mt?ze:vt?null:ze),e.add("duid",vt?null:n[1]),e.add("uid",vt?null:Ke),l(),e.add("refr",d(Re||$e)),e.add("url",d(De||qe)),o=K(n,It,vt),!Mt||vt&&!mt||e.addContextEntity({schema:"iglu:com.snowplowanalytics.snowplow/client_session/jsonschema/1-0-2",data:o}),"none"!=It&&(C(n),e=I(),t&&!r||!e||!Nt||xt||(Nt(o),xt=!1)),Ct=(new Date).getTime()}}}),Ee&&s.push({contexts:function(){return[{schema:"iglu:com.snowplowanalytics.snowplow/web_page/jsonschema/1-0-0",data:{id:W()}}]}}),xe&&s.push({contexts:function(){return[{schema:"iglu:com.snowplowanalytics.snowplow/browser_context/jsonschema/2-0-0",data:ct(ct({},H()),{tabId:_()})}]}}),s.push.apply(s,null!==(oe=a.plugins)&&void 0!==oe?oe:[]);var Re,De,Le,Fe,Be,Ue,Pe,Ve,We,_e,Ge,Ze,je,ze,Ke,He,Je=k({base64:a.encodeBase64,corePlugins:s,callback:function(e){pt||He||bt.enqueueRequest(e.build(),tt)}}),Ye=document.characterSet||document.charset,Qe=Z(window.location.hostname,window.location.href,F()),Xe=L(Qe[0]),qe=Qe[1],$e=Qe[2],et=null!==(ie=a.platform)&&void 0!==ie?ie:"web",tt=M(r),nt=null!==(ae=a.postPath)&&void 0!==ae?ae:"/com.snowplowanalytics.snowplow/tp2",rt=null!==(se=a.appId)&&void 0!==se?se:"",ot=document.title,it=null===(le=a.resetActivityTrackingOnPageView)||void 0===le||le,at=null!==(ce=a.cookieName)&&void 0!==ce?ce:"_sp_",st=null!==(ue=a.cookieDomain)&&void 0!==ue?ue:void 0,lt="/",ut=null!==(de=a.cookieSameSite)&&void 0!==de?de:"None",dt=null===(fe=a.cookieSecure)||void 0===fe||fe,ft=navigator.doNotTrack||navigator.msDoNotTrack||window.doNotTrack,pt=void 0!==a.respectDoNotTrack&&(a.respectDoNotTrack&&("yes"===ft||"1"===ft)),ht=null!==(pe=a.cookieLifetime)&&void 0!==pe?pe:63072e3,gt=null!==(he=a.sessionCookieTimeout)&&void 0!==he?he:1800,mt=Oe(a),yt=Ne(a),vt=!!a.anonymousTracking,It=Me(a),Ct=(new Date).getTime(),wt=1,bt=G(e,i,"localStorage"==It||"cookieAndLocalStorage"==It,a.eventMethod,nt,null!==(ge=a.bufferSize)&&void 0!==ge?ge:1,null!==(me=a.maxPostBytes)&&void 0!==me?me:4e4,null!==(ye=a.maxGetBytes)&&void 0!==ye?ye:0,null===(ve=a.useStm)||void 0===ve||ve,null!==(Ie=a.maxLocalStorageQueueSize)&&void 0!==Ie?Ie:1e3,null!==(Ce=a.connectionTimeout)&&void 0!==Ce?Ce:5e3,yt,null!==(we=a.customHeaders)&&void 0!==we?we:{},null===(be=a.withCredentials)||void 0===be||be,null!==(Se=a.retryStatusCodes)&&void 0!==Se?Se:[],(null!==(Ae=a.dontRetryStatusCodes)&&void 0!==Ae?Ae:[]).concat([400,401,403,410,422]),a.idService,a.retryFailedRequests),St=!1,At=!1,kt={enabled:!1,installed:!1,configurations:{}},Mt=null!==(Te=null===(ke=a.contexts)||void 0===ke?void 0:ke.session)&&void 0!==Te&&Te,Nt=a.onSessionUpdateCallback,xt=!1;a.hasOwnProperty("discoverRootDomain")&&a.discoverRootDomain&&(st=function(e,t){for(var n=window.location.hostname,r="_sp_root_domain_test_"+(new Date).getTime(),o="_test_value_"+(new Date).getTime(),i=n.split("."),a=i.length-2;0<=a;a--){var s=i.slice(a).join(".");if(P(r,o,0,"/",s,e,t),P(r)===o){for(P(r,"",-1,"/",s,e,t),n=document.cookie.split("; "),r=[],o=0;o<n.length;o++)"_sp_root_domain_test_"===n[o].substring(0,21)&&r.push(n[o]);for(n=r,r=0;r<n.length;r++)P(n[r],"",-1,"/",s,e,t);return s}}return n}(ut,dt));var Et=H(),Rt=Et.browserLanguage,Dt=Et.resolution,Ft=Et.colorDepth,Bt=Et.cookiesEnabled;return Je.setTrackerVersion(n),Je.setTrackerNamespace(t),Je.setAppId(rt),Je.setPlatform(et),Je.addPayloadPair("cookie",Bt?"1":"0"),Je.addPayloadPair("cs",Ye),Je.addPayloadPair("lang",Rt),Je.addPayloadPair("res",Dt),Je.addPayloadPair("cd",Ft),h(),A(),a.crossDomainLinker&&u(a.crossDomainLinker),ct(ct({},{getDomainSessionIndex:function(){return wt},getPageViewId:W,getTabId:_,newSession:function(){var e=T();if("0"===e[0]?(ze="none"!=It?j(e):e[6],wt=e[3]):(wt++,ze=j(e,{memorizedVisitCount:wt})),z(e),"none"!=It){var t=K(e,It,vt);C(e),I()&&Nt&&(xt=!0,Nt(t))}Ct=(new Date).getTime()},getCookieName:function(e){return at+e+"."+Ze},getUserId:function(){return Ke},getDomainUserId:function(){return T()[1]},getDomainUserInfo:function(){return T()},setReferrerUrl:function(e){Re=e},setCustomUrl:function(e){l();var t,n=qe;f(e)?De=e:"/"===e.slice(0,1)?De=f(n)+"://"+D(n)+e:(0<=(t=(n=d(n)).indexOf("?"))&&(n=n.slice(0,t)),(t=n.lastIndexOf("/"))!==n.length-1&&(n=n.slice(0,t+1)),De=n+e)},setDocumentTitle:function(e){ot=document.title,Le=e},discardHashTag:function(e){Fe=e},discardBrace:function(e){Be=e},setCookiePath:function(e){lt=e,h()},setVisitorCookieTimeout:function(e){ht=e},crossDomainLinker:function(e){u(e)},enableActivityTracking:function(e){kt.configurations.pagePing||(kt.enabled=!0,kt.configurations.pagePing=Q(ct(ct({},e),{callback:X})))},enableActivityTrackingCallback:function(e){kt.configurations.callback||(kt.enabled=!0,kt.configurations.callback=Q(e))},disableActivityTracking:function(){q("pagePing")},disableActivityTrackingCallback:function(){q("callback")},updatePageActivity:function(){g()},setOptOutCookie:function(e){Ue=e},setUserId:function(e){Ke=e},setUserIdFromLocation:function(e){l(),Ke=U(e,qe)},setUserIdFromReferrer:function(e){l(),Ke=U(e,$e)},setUserIdFromCookie:function(e){Ke=P(e)},setCollectorUrl:function(e){tt=M(e),bt.setCollectorUrl(tt)},setBufferSize:function(e){bt.setBufferSize(e)},flushBuffer:function(e){void 0===e&&(e={}),bt.executeQueue(),e.newBufferSize&&bt.setBufferSize(e.newBufferSize)},trackPageView:function(e){void 0===e&&(e={}),J(e)},preservePageViewId:function(){St=!0},disableAnonymousTracking:function(e){a.anonymousTracking=!1,S(e),A(),bt.executeQueue()},enableAnonymousTracking:function(e){var t;a.anonymousTracking=null===(t=e&&(null==e?void 0:e.options))||void 0===t||t,S(e),mt||V()},clearUserData:b}),{id:e,namespace:t,core:Je,sharedState:i})}(e,t,n,r,i,a);var l=ct(ct({},e),{addPlugin:function(e){var t,n;l.core.addPlugin(e),null===(n=(t=e.plugin).activateBrowserPlugin)||void 0===n||n.call(t,l)}});return s.forEach((function(e){var t;null===(t=e.activateBrowserPlugin)||void 0===t||t.call(e,l)})),l}function Q(e,t){try{q(null!=e?e:Object.keys(Ft),Ft).forEach(t)}catch(e){Ot.error("Function failed",e)}}function X(e,t,n,r,o,i){return Ft.hasOwnProperty(e)?null:(Ft[e]=Y(e,t,n,r,o,i),Ft[e])}function q(e,t){for(var n=[],r=0;r<e.length;r++){var o=e[r];t.hasOwnProperty(o)?n.push(t[o]):Ot.warn(o+" not configured")}return n}function $(){function e(){var e;if(!t.hasLoaded)for(t.hasLoaded=!0,e=0;e<t.registeredOnLoadHandlers.length;e++)t.registeredOnLoadHandlers[e]();return!0}var t=new Bt,n=document,r=window;return n.visibilityState&&B(n,"visibilitychange",(function(){"hidden"==n.visibilityState&&t.bufferFlushers.forEach((function(e){e(!1)}))}),!1),B(r,"beforeunload",(function(){t.bufferFlushers.forEach((function(e){e(!1)}))}),!1),"loading"===document.readyState?(n.addEventListener?n.addEventListener("DOMContentLoaded",(function t(){n.removeEventListener("DOMContentLoaded",t,!1),e()})):n.attachEvent&&n.attachEvent("onreadystatechange",(function t(){"complete"===n.readyState&&(n.detachEvent("onreadystatechange",t),e())})),B(r,"load",e,!1)):e(),t}function ee(e,t){var n,r=t.context,o=e.id+"form",i=function(e){if(e){var t=function(e){return!0},n=null;return!function(e){return null!=e&&0<Array.prototype.slice.call(e).length}(e.forms)?t=function(e){if(null==e||"object"!=typeof e||Array.isArray(e))return function(){return!0};var t=Object.prototype.hasOwnProperty.call(e,"allowlist"),n=_(e);return W(e,(function(e){e:{var r=0;for(e=e.className.match(/\S+/g)||[];r<e.length;r++)if(n[e[r]]){r=!0;break e}r=!1}return r===t}))}(e.forms):n=e.forms,{forms:n,formFilter:t,fieldFilter:V(e.fields),fieldTransform:te(e.fields),eventFilter:function(t){var n;return-1<(null!==(n=e.events)&&void 0!==n?n:Wt).indexOf(t)}}}return{forms:null,formFilter:function(){return!0},fieldFilter:function(){return!0},fieldTransform:Gt,eventFilter:function(){return!0}}}(t.options);t=null!==(n=i.forms)&&void 0!==n?n:document.getElementsByTagName("form"),Array.prototype.slice.call(t).forEach((function(t){i.formFilter(t)&&(Array.prototype.slice.call(_t).forEach((function(n){Array.prototype.slice.call(t.getElementsByTagName(n)).forEach((function(t){i.fieldFilter(t)&&!t[o]&&"password"!==t.type.toLowerCase()&&(i.eventFilter(Dt.FOCUS_FORM)&&B(t,"focus",re(e,i,"focus_form",r),!1),i.eventFilter(Dt.CHANGE_FORM)&&B(t,"change",re(e,i,"change_form",r),!1),t[o]=!0)}))})),t[o]||(i.eventFilter(Dt.SUBMIT_FORM)&&B(t,"submit",function(e,t,n,r){return function(o){var i;o=o.target;var a=function(e,t){var n=[];return Array.prototype.slice.call(_t).forEach((function(r){r=Array.prototype.slice.call(t.getElementsByTagName(r)).filter((function(t){return t.hasOwnProperty(e)})),Array.prototype.slice.call(r).forEach((function(e){if("submit"!==e.type){var t={elementData:{name:ne(e),value:e.value,nodeName:e.nodeName},originalElement:e};e.type&&"INPUT"===e.nodeName.toUpperCase()&&(t.elementData.type=e.type),"checkbox"!==e.type&&"radio"!==e.type||e.checked||(t.elementData.value=null),n.push(t)}}))})),n}(n,o);a.forEach((function(e){var n,r=e.elementData;r.value=null!==(n=t.fieldTransform(r.value,r,e.originalElement))&&void 0!==n?n:r.value})),a=a.map((function(e){return e.elementData})),e.core.track(function(e){return T({event:{schema:"iglu:com.snowplowanalytics.snowplow/submit_form/jsonschema/1-0-0",data:M({formId:e.formId,formClasses:e.formClasses,elements:e.elements})}})}({formId:null!==(i=ne(o))&&void 0!==i?i:"",formClasses:o.className.match(/\S+/g)||[],elements:a}),c(r,o,a))}}(e,i,o,r)),t[o]=!0))}))}function te(e){return e&&Object.prototype.hasOwnProperty.call(e,"transform")?e.transform:Gt}function ne(e){for(var t=0,n=["name","id","type","nodeName"];t<n.length;t++){var r=n[t];if(0!=e[r]&&"string"==typeof e[r])return e[r]}return null}function re(e,t,n,r){return function(o){var i;if(o=o.target){var a=o.nodeName&&"INPUT"===o.nodeName.toUpperCase()?o.type:null,s="checkbox"!==o.type||o.checked?t.fieldTransform(o.value,o,o):null;if("change_form"===n||"checkbox"!==a&&"radio"!==a){var l,u=e.core,d=u.track;for(l=o;l&&l.nodeName&&"HTML"!==l.nodeName.toUpperCase()&&"FORM"!==l.nodeName.toUpperCase();)l=l.parentNode;l=null!=(l=l&&l.nodeName&&"FORM"===l.nodeName.toUpperCase()?ne(l):null)?l:"";var f=null!==(i=ne(o))&&void 0!==i?i:"";i="",l={formId:l,elementId:f,nodeName:o.nodeName,elementClasses:o.className.match(/\S+/g)||[],value:null!=s?s:null},"change_form"===n?(i="iglu:com.snowplowanalytics.snowplow/change_form/jsonschema/1-0-0",l.type=a):"focus_form"===n&&(i="iglu:com.snowplowanalytics.snowplow/focus_form/jsonschema/1-0-0",l.elementType=a),i=T({event:{schema:i,data:M(l,{value:!0})}}),d.call(u,i,c(r,o,a,s))}}}}function oe(){return{activateBrowserPlugin:function(e){Zt[e.id]=e}}}function ie(t,n){function r(e){var t=e.split(":");return[e=t[0],t=1<t.length?t[1].split(";"):void 0]}function o(e,t){if(y[e])try{y[e].apply(null,t)}catch(t){Ot.error(e+" failed",t)}else Ot.warn(e+" is not an available function")}function i(e){y=ct(ct({},y),e)}function a(n){if("string"!=typeof n[0]||"string"!=typeof n[1]||void 0!==n[2]&&"object"!=typeof n[2])Ot.error("newTracker failed",Error("Invalid parameters"));else{var r="".concat(t,"_").concat(n[0]),o=n[2],a=function(t){var n;return(t=null!==(n=null==t?void 0:t.contexts)&&void 0!==n?n:{}).performanceTiming,t.gaCookies,t.geolocation,t.optimizelyExperiments,t.optimizelyStates,t.optimizelyVariations,t.optimizelyVisitor,t.optimizelyAudiences,t.optimizelyDimensions,t.optimizelySummary,t.optimizelyXSummary,t.clientHints,n=[],t=e(jt,["FormTrackingPlugin"]),n.push([oe(),t]),n}(o);(r=X(r,n[0],"js-".concat(m),n[1],d,ct(ct({},o),{plugins:a.map((function(e){return e[0]}))})))?(f.push(r.id),a.forEach((function(e){i(e[1])}))):Ot.warn(n[0]+" already exists")}}function s(t,n){function r(e){Object.prototype.hasOwnProperty.call(h,e)&&(c.clearTimeout(h[e].timeout),delete h[e],0===Object.keys(h).length&&g.forEach((function(e){var t=e[1];void 0!==y[e[0]]&&y[e[0]].length>t.length&&Array.isArray(t[0])&&(t=[{},t[0]]),o(e[0],t)})))}var a;if("string"==typeof t[0]&&p(t[1])&&(void 0===t[2]||Array.isArray(t[2]))){var s=t[0],l=t[1],d=t[2];(null===(a=t[3])||void 0===a||a)&&(a=c.setTimeout((function(){r(s)}),5e3),h[s]={timeout:a}),(a=u.createElement("script")).setAttribute("src",s),a.setAttribute("async","1"),B(a,"error",(function(){r(s),Ot.warn("Failed to load plugin ".concat(l[0]," from ").concat(s))}),!0),B(a,"load",(function(){var t=l[1],o=c[l[0]];if(o&&"object"==typeof o){var a=o[t];t=e(o,["symbol"==typeof t?t:t+""]),y.addPlugin.apply(null,[{plugin:a.apply(null,d)},n]),i(t)}r(s)}),!0),u.head.appendChild(a)}else{if("object"==typeof t[0]&&"string"==typeof t[1]&&(void 0===t[2]||Array.isArray(t[2]))){var f=t[0],m=t[1];if(a=t[2],f)return t=f[m],f=e(f,["symbol"==typeof m?m:m+""]),y.addPlugin.apply(null,[{plugin:t.apply(null,a)},n]),void i(f)}Ot.warn("Failed to add Plugin: ".concat(t[1]))}}function l(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(n=0;n<e.length;n+=1){var i=e[n],l=Array.prototype.shift.call(i),c=!(!l||"function"!=typeof l);if(c)try{c={};for(var u=0,d=q(f,Ft);u<d.length;u++){var p=d[u];c[p.id.replace("".concat(t,"_"),"")]=p}l.apply(c,i)}catch(e){Ot.error("Tracker callback failed",e)}finally{continue}l=(c=r(l))[0],c=c[1],"newTracker"===l?a(i):(c=c?c.map((function(e){return"".concat(t,"_").concat(e)})):f,"addPlugin"===l?s(i,c):(u=void 0,u=0<i.length?[i[0],c]:void 0!==y[l]&&2===y[l].length?[{},c]:[c],0<Object.keys(h).length?g.push([l,u]):o(l,u)))}}for(var c=window,u=document,d=$(),f=[],h={},g=[],m="3.18.0",y=e(Pt,["version"]),v=0;v<n.length;v++)l(n[v]);return{push:l}}function ae(e){return new Promise((function(t){var n=new XMLHttpRequest;n.open("GET","https://collector.leadinfo.net/config/"+e+"/"),n.onreadystatechange=function(){if(n.readyState===n.DONE){var e=[];try{e=JSON.parse(n.responseText)}catch(e){}for(var r={},o=0;o<e.length;o++){var i=e[o];if(r[i.key]=i.config,null!=i.script){var a=document.createElement("script");a.src=i.script,(i=document.querySelector("head"))&&i.appendChild(a)}}t(r)}},n.send()}))}function se(e){return new Promise((function(t){var n=null,r=new XMLHttpRequest;r.open("GET","https://api.leadinfo.com/v1/identify/"+e),r.onreadystatechange=function(){if(r.readyState===r.DONE){try{n=JSON.parse(r.responseText)}catch(e){}t(n)}},r.send()}))}function le(e){var t=null==e?void 0:e.host;return(null==t?void 0:t.shadowRoot)===e}function ce(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function ue(e){try{var t=e.rules||e.cssRules;if(t){var n=Array.from(t).map(de).join("");n.includes(" background-clip: text;")&&!n.includes(" -webkit-background-clip: text;")&&(n=n.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;"));var r=n}else r=null;return r}catch(e){return null}}function de(e){if("styleSheet"in e)try{var t;if(!(t=ue(e.styleSheet))){var n=e.cssText;if(3>n.split('"').length)t=n;else{var r=["@import","url(".concat(JSON.stringify(e.href),")")];""===e.layerName?r.push("layer"):e.layerName&&r.push("layer(".concat(e.layerName,")")),e.supportsText&&r.push("supports(".concat(e.supportsText,")")),e.media.length&&r.push(e.media.mediaText),t=r.join(" ")+";"}}var o=t}catch(e){}return e=(e=o||e.cssText).includes(":")?e.replace(/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm,"$1\\$2"):e}function fe(e){var t=e.element,n=e.maskInputOptions,r=e.tagName,o=e.type,i=e.maskInputFn;return e=e.value||"",o=o&&o.toLowerCase(),(n[r.toLowerCase()]||o&&n[o])&&(e=i?i(e,t):"*".repeat(e.length)),e}function pe(e){var t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?t.toLowerCase():null}function he(){return Jt++}function ge(e,t){return(e||"").replace(Qt,(function(e,n,r,o,i,a){if(n=n||o||"",!(r=r||i||a))return e;if(Xt.test(r)||qt.test(r)||$t.test(r))return"url(".concat(n).concat(r).concat(n,")");if("/"===r[0])return o=(e="url(".concat(n)).concat,i=(i=-1<t.indexOf("//")?t.split("/").slice(0,3).join("/"):t.split("/")[0]).split("?")[0],o.call(e,i+r).concat(n,")");for(e=t.split("/"),r=r.split("/"),e.pop(),o=0;o<r.length;o++)"."!==(i=r[o])&&(".."===i?e.pop():e.push(i));return"url(".concat(n).concat(e.join("/")).concat(n,")")}))}function me(e,t){return t&&""!==t.trim()?((e=e.createElement("a")).href=t,e.href):t}function ye(){var e=document.createElement("a");return e.href="",e.href}function ve(e,t,n,r){return r?"src"===n||"href"===n&&("use"!==t||"#"!==r[0])||"xlink:href"===n&&"#"!==r[0]||"background"===n&&("table"===t||"td"===t||"th"===t)?me(e,r):"srcset"===n?function(e,t){function n(e){return(e=e.exec(t.substring(r)))?(e=e[0],r+=e.length,e):""}if(""===t.trim())return t;for(var r=0,o=[];n(tn),!(r>=t.length);){var i=n(en);if(","===i.slice(-1))i=me(e,i.substring(0,i.length-1)),o.push(i);else{var a="";i=me(e,i);for(var s=!1;;){var l=t.charAt(r);if(""===l){o.push((i+a).trim());break}if(s)")"===l&&(s=!1);else{if(","===l){r+=1,o.push((i+a).trim());break}"("===l&&(s=!0)}a+=l,r+=1}}}return o.join(", ")}(e,r):"style"===n?ge(r,ye()):"object"===t&&"data"===n?me(e,r):r:r}function Ie(e,t,n){return("video"===e||"audio"===e)&&"autoplay"===t}function Ce(e,t,n){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return!!n&&Ce(e.parentNode,t,n);for(var r=e.classList.length;r--;)if(t.test(e.classList[r]))return!0;return!!n&&Ce(e.parentNode,t,n)}function we(e,t,n){try{var r=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null===r)return!1;if("string"==typeof t){if(r.classList.contains(t)||r.closest(".".concat(t)))return!0}else if(Ce(r,t,!0))return!0;if(n&&(r.matches(n)||r.closest(n)))return!0}catch(e){}return!1}function be(e,t){var n=t.doc,r=t.blockClass,o=t.blockSelector,i=t.maskTextClass,a=t.maskTextSelector,s=t.inlineStylesheet,l=t.maskInputOptions,c=void 0===l?{}:l;l=t.maskTextFn;var u=t.maskInputFn,d=t.dataURLOptions;d=void 0===d?{}:d;var f=t.inlineImages,p=t.recordCanvas,h=t.keepIframeSrcFn,g=t.newlyAddedElement;switch(g=void 0!==g&&g,(t=t.mirror).hasNode(n)?t=1===(t=t.getId(n))?void 0:t:t=void 0,e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:Vt.Document,childNodes:[],compatMode:e.compatMode}:{type:Vt.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Vt.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:t};case e.ELEMENT_NODE:return function(e,t){var n=t.doc,r=t.inlineStylesheet,o=t.maskInputOptions,i=void 0===o?{}:o,a=t.maskInputFn,s=void 0===(o=t.dataURLOptions)?{}:o,l=t.inlineImages,c=t.recordCanvas;o=t.keepIframeSrcFn;var u=t.newlyAddedElement,d=void 0!==u&&u;u=t.rootId,t=function(e,t,n){try{if("string"==typeof t){if(e.classList.contains(t))return!0}else for(var r=e.classList.length;r--;)if(t.test(e.classList[r]))return!0;if(n)return e.matches(n)}catch(e){}return!1}(e,t.blockClass,t.blockSelector);for(var f=function(e){return e instanceof HTMLFormElement?"form":(e=e.tagName.toLowerCase(),Yt.test(e)?"div":e)}(e),p={},h=e.attributes.length,g=0;g<h;g++){var m=e.attributes[g];Ie(f,m.name,m.value)||(p[m.name]=ve(n,f,m.name.toLowerCase(),m.value))}"link"===f&&r&&(r=Array.from(n.styleSheets).find((function(t){return t.href===e.href})),h=null,r&&(h=ue(r)),h&&(delete p.rel,delete p.href,p._cssText=ge(h,r.href))),"style"===f&&e.sheet&&!(e.innerText||e.textContent||"").trim().length&&(h=ue(e.sheet))&&(p._cssText=ge(h,ye())),("input"===f||"textarea"===f||"select"===f)&&(r=e.value,h=e.checked,"radio"!==p.type&&"checkbox"!==p.type&&"submit"!==p.type&&"button"!==p.type&&r?(h=pe(e),p.value=fe({element:e,type:h,tagName:f,value:r,maskInputOptions:i,maskInputFn:a})):h&&(p.checked=h));if("option"===f&&(e.selected&&!i.select?p.selected=!0:delete p.selected),"canvas"===f&&c&&("2d"===e.__context?function(e){var t=e.getContext("2d");if(!t)return!0;for(var n=0;n<e.width;n+=50)for(var r=0;r<e.height;r+=50){var o=t.getImageData;if(new Uint32Array(("__rrweb_original__"in o?o.__rrweb_original__:o).call(t,n,r,Math.min(50,e.width-n),Math.min(50,e.height-r)).data.buffer).some((function(e){return 0!==e})))return!1}return!0}(e)||(p.rr_dataURL=e.toDataURL(s.type,s.quality)):"__context"in e||(i=e.toDataURL(s.type,s.quality),(a=document.createElement("canvas")).width=e.width,a.height=e.height,a=a.toDataURL(s.type,s.quality),i!==a&&(p.rr_dataURL=i))),"img"===f&&l){zt||(zt=n.createElement("canvas"),Kt=zt.getContext("2d"));var y=e.crossOrigin;e.crossOrigin="anonymous";var v=function(){e.removeEventListener("load",v);try{zt.width=e.naturalWidth,zt.height=e.naturalHeight,Kt.drawImage(e,0,0),p.rr_dataURL=zt.toDataURL(s.type,s.quality)}catch(t){console.warn("Cannot inline img src=".concat(e.currentSrc,"! Error: ").concat(t))}y?p.crossOrigin=y:e.removeAttribute("crossorigin")};e.complete&&0!==e.naturalWidth?v():e.addEventListener("load",v)}"audio"!==f&&"video"!==f||(p.rr_mediaState=e.paused?"paused":"played",p.rr_mediaCurrentTime=e.currentTime);return d||(e.scrollLeft&&(p.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(p.rr_scrollTop=e.scrollTop)),t&&(n=e.getBoundingClientRect(),l=n.height,p={class:p.class,rr_width:"".concat(n.width,"px"),rr_height:"".concat(l,"px")}),"iframe"!==f||o(p.src)||(e.contentDocument||(p.rr_src=p.src),delete p.src),{type:Vt.Element,tagName:f,attributes:p,childNodes:[],isSVG:!("svg"!==e.tagName&&!e.ownerSVGElement)||void 0,needBlock:t,rootId:u}}(e,{doc:n,blockClass:r,blockSelector:o,inlineStylesheet:s,maskInputOptions:c,maskInputFn:u,dataURLOptions:d,inlineImages:f,recordCanvas:p,keepIframeSrcFn:h,newlyAddedElement:g,rootId:t});case e.TEXT_NODE:var m;if(n=t,s=e.parentNode&&e.parentNode.tagName,r=e.textContent,o="STYLE"===s||void 0,s="SCRIPT"===s||void 0,o&&r){try{!e.nextSibling&&!e.previousSibling&&null!==(m=e.parentNode.sheet)&&void 0!==m&&m.cssRules&&(r=ue(e.parentNode.sheet))}catch(t){console.warn("Cannot get CSS styles from text's parentNode. Error: ".concat(t),e)}r=ge(r,ye())}return s&&(r="SCRIPT_PLACEHOLDER"),!o&&!s&&r&&we(e,i,a)&&(r=l?l(r):r.replace(/[\S]/g,"*")),{type:Vt.Text,textContent:r||"",isStyle:o,rootId:n};case e.CDATA_SECTION_NODE:return{type:Vt.CDATA,textContent:"",rootId:t};case e.COMMENT_NODE:return{type:Vt.Comment,textContent:e.textContent||"",rootId:t};default:return!1}}function Se(e){return null==e?"":e.toLowerCase()}function Ae(e,t){var n=t.doc,r=t.mirror,o=t.blockClass,i=t.blockSelector,a=t.maskTextClass,s=t.maskTextSelector,l=t.skipChild;l=void 0!==l&&l;var c=t.inlineStylesheet,u=void 0===c||c,d=void 0===(c=t.maskInputOptions)?{}:c,f=t.maskTextFn,p=t.maskInputFn,h=t.slimDOMOptions,g=void 0===(c=t.dataURLOptions)?{}:c,m=void 0!==(c=t.inlineImages)&&c,y=void 0!==(c=t.recordCanvas)&&c,v=t.onSerialize,I=t.onIframeLoad,C=void 0===(c=t.iframeLoadTimeout)?5e3:c,w=t.onStylesheetLoad,b=void 0===(c=t.stylesheetLoadTimeout)?5e3:c,S=void 0===(c=t.keepIframeSrcFn)?function(){return!1}:c;c=t.newlyAddedElement;var A=void 0===(t=t.preserveWhiteSpace)||t;if(!(t=be(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,maskTextClass:a,maskTextSelector:s,inlineStylesheet:u,maskInputOptions:d,maskTextFn:f,maskInputFn:p,dataURLOptions:g,inlineImages:m,recordCanvas:y,keepIframeSrcFn:S,newlyAddedElement:void 0!==c&&c})))return console.warn(e,"not serialized"),null;if(c=r.hasNode(e)?r.getId(e):function(e,t){return!!(t.comment&&e.type===Vt.Comment||e.type===Vt.Element&&(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&e.attributes.href.endsWith(".js"))||t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(Se(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===Se(e.attributes.name)||"icon"===Se(e.attributes.rel)||"apple-touch-icon"===Se(e.attributes.rel)||"shortcut icon"===Se(e.attributes.rel)))||"meta"===e.tagName&&(t.headMetaDescKeywords&&Se(e.attributes.name).match(/^description|keywords$/)||t.headMetaSocial&&(Se(e.attributes.property).match(/^(og|twitter|fb):/)||Se(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===Se(e.attributes.name))||t.headMetaRobots&&("robots"===Se(e.attributes.name)||"googlebot"===Se(e.attributes.name)||"bingbot"===Se(e.attributes.name))||t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"]||t.headMetaAuthorship&&("author"===Se(e.attributes.name)||"generator"===Se(e.attributes.name)||"framework"===Se(e.attributes.name)||"publisher"===Se(e.attributes.name)||"progid"===Se(e.attributes.name)||Se(e.attributes.property).match(/^article:/)||Se(e.attributes.property).match(/^product:/))||t.headMetaVerification&&("google-site-verification"===Se(e.attributes.name)||"yandex-verification"===Se(e.attributes.name)||"csrf-token"===Se(e.attributes.name)||"p:domain_verify"===Se(e.attributes.name)||"verify-v1"===Se(e.attributes.name)||"verification"===Se(e.attributes.name)||"shopify-checkout-api-token"===Se(e.attributes.name)))))}(t,h)||!A&&t.type===Vt.Text&&!t.isStyle&&!t.textContent.replace(/^\s+|\s+$/gm,"").length?-2:Jt++,t=Object.assign(t,{id:c}),r.add(e,t),-2===c)return null;if(v&&v(e),c=!l,t.type===Vt.Element){c=c&&!t.needBlock,delete t.needBlock;var k=e.shadowRoot;k&&ce(k)&&(t.isShadowHost=!0)}if((t.type===Vt.Document||t.type===Vt.Element)&&c){h.headWhitespace&&t.type===Vt.Element&&"head"===t.tagName&&(A=!1),l={doc:n,mirror:r,blockClass:o,blockSelector:i,maskTextClass:a,maskTextSelector:s,skipChild:l,inlineStylesheet:u,maskInputOptions:d,maskTextFn:f,maskInputFn:p,slimDOMOptions:h,dataURLOptions:g,inlineImages:m,recordCanvas:y,preserveWhiteSpace:A,onSerialize:v,onIframeLoad:I,iframeLoadTimeout:C,onStylesheetLoad:w,stylesheetLoadTimeout:b,keepIframeSrcFn:S},k=0;for(var T=Array.from(e.childNodes);k<T.length;k++)(c=Ae(c=T[k],l))&&t.childNodes.push(c);if(e.nodeType===e.ELEMENT_NODE&&e.shadowRoot)for(k=0,T=Array.from(e.shadowRoot.childNodes);k<T.length;k++)(c=Ae(c=T[k],l))&&(ce(e.shadowRoot)&&(c.isShadow=!0),t.childNodes.push(c))}return e.parentNode&&le(e.parentNode)&&ce(e.parentNode)&&(t.isShadow=!0),t.type===Vt.Element&&"iframe"===t.tagName&&function(e,t,n){var r=e.contentWindow;if(r){var o=!1;try{var i=r.document.readyState}catch(e){return}if("complete"!==i){var a=setTimeout((function(){o||(t(),o=!0)}),n);e.addEventListener("load",(function(){clearTimeout(a),o=!0,t()}))}else{if("about:blank"!==r.location.href||"about:blank"===e.src||""===e.src)return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}}}(e,(function(){var t=e.contentDocument;t&&I&&(t=Ae(t,{doc:t,mirror:r,blockClass:o,blockSelector:i,maskTextClass:a,maskTextSelector:s,skipChild:!1,inlineStylesheet:u,maskInputOptions:d,maskTextFn:f,maskInputFn:p,slimDOMOptions:h,dataURLOptions:g,inlineImages:m,recordCanvas:y,preserveWhiteSpace:A,onSerialize:v,onIframeLoad:I,iframeLoadTimeout:C,onStylesheetLoad:w,stylesheetLoadTimeout:b,keepIframeSrcFn:S}))&&I(e,t)}),C),t.type===Vt.Element&&"link"===t.tagName&&"stylesheet"===t.attributes.rel&&function(e,t,n){var r=!1;try{var o=e.sheet}catch(e){return}if(!o){var i=setTimeout((function(){r||(t(),r=!0)}),n);e.addEventListener("load",(function(){clearTimeout(i),r=!0,t()}))}}(e,(function(){if(w){var t=Ae(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,maskTextClass:a,maskTextSelector:s,skipChild:!1,inlineStylesheet:u,maskInputOptions:d,maskTextFn:f,maskInputFn:p,slimDOMOptions:h,dataURLOptions:g,inlineImages:m,recordCanvas:y,preserveWhiteSpace:A,onSerialize:v,onIframeLoad:I,iframeLoadTimeout:C,onStylesheetLoad:w,stylesheetLoadTimeout:b,keepIframeSrcFn:S});t&&w(e,t)}}),b),t}function ke(e,t,n=document){let r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}function Te(e,t,n={}){let r=null,o=0;return function(...i){let a=Date.now();o||!1!==n.leading||(o=a);let s=t-(a-o),l=this;0>=s||s>t?(r&&(clearTimeout(r),r=null),o=a,e.apply(l,i)):r||!1===n.trailing||(r=setTimeout((()=>{o=!1===n.leading?0:Date.now(),r=null,e.apply(l,i)}),s))}}function Me(e,t,n,r,o=window){let i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(e){setTimeout((()=>{n.set.call(this,e)}),0),i&&i.set&&i.set.call(this,e)}}),()=>Me(e,t,i||{},!0)}function Oe(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],o=n(r);return"function"==typeof o&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch(e){return()=>{}}}function Ne(e){var t,n,r,o,i,a;let s=e.document;return{left:s.scrollingElement?s.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:(null==s?void 0:s.documentElement.scrollLeft)||(null===(n=null===(t=null==s?void 0:s.body)||void 0===t?void 0:t.parentElement)||void 0===n?void 0:n.scrollLeft)||(null===(r=null==s?void 0:s.body)||void 0===r?void 0:r.scrollLeft)||0,top:s.scrollingElement?s.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:(null==s?void 0:s.documentElement.scrollTop)||(null===(i=null===(o=null==s?void 0:s.body)||void 0===o?void 0:o.parentElement)||void 0===i?void 0:i.scrollTop)||(null===(a=null==s?void 0:s.body)||void 0===a?void 0:a.scrollTop)||0}}function xe(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Ee(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Re(e,t,n,r){if(!e)return!1;if(!(e=e.nodeType===e.ELEMENT_NODE?e:e.parentElement))return!1;try{if("string"==typeof t){if(e.classList.contains(t)||r&&null!==e.closest("."+t))return!0}else if(Ce(e,t,r))return!0}catch(e){}return!(!n||!(e.matches(n)||r&&null!==e.closest(n)))}function De(e,t){if(le(e))return!1;let n=t.getId(e);return!t.has(n)||(!e.parentNode||e.parentNode.nodeType!==e.DOCUMENT_NODE)&&(!e.parentNode||De(e.parentNode,t))}function Le(e,t){return!("LINK"!==e.nodeName||e.nodeType!==e.ELEMENT_NODE||!e.getAttribute||"stylesheet"!==e.getAttribute("rel")||!t.getMeta(e))}function Fe(e){return!(null==e||!e.shadowRoot)}function Be(e){var t,n;let r=null;return(null===(n=null===(t=e.getRootNode)||void 0===t?void 0:t.call(e))||void 0===n?void 0:n.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(r=e.getRootNode().host),r}function Ue(e){var t=e.ownerDocument;if(!t)return!1;if(!(t=t.contains(e)))if(t=e.ownerDocument){let n;for(;n=Be(e);)e=n;t=t.contains(e)}else t=!1;return t}function Pe(e,t){e.delete(t),t.childNodes.forEach((t=>Pe(e,t)))}function Ve(e,t,n){return 0!==e.length&&We(e,t,n)}function We(e,t,n){if(({parentNode:t}=t),!t)return!1;let r=n.getId(t);return!!e.some((e=>e.id===r))||We(e,t,n)}function _e(e,t){return 0!==e.size&&Ge(e,t)}function Ge(e,t){return({parentNode:t}=t),!!t&&(!!e.has(t)||Ge(e,t))}function Ze(e){try{if("composedPath"in e){let t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(e){}return e&&e.target}function je(e,t){var n,r;let o=new pn;mn.push(o),o.init(e),e=window.MutationObserver||window.__rrMutationObserver;let i=null===(r=null===(n=null===window||void 0===window?void 0:window.Zone)||void 0===n?void 0:n.__symbol__)||void 0===r?void 0:r.call(n,"MutationObserver");return i&&window[i]&&(e=window[i]),(n=new e(gn(o.processMutations.bind(o)))).observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),n}function ze({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,sampling:i}){if(!1===i.mouseInteraction)return()=>{};let a=!0===i.mouseInteraction||void 0===i.mouseInteraction?{}:i.mouseInteraction,s=[],l=null;return Object.keys(ln).filter((e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==a[e])).forEach((i=>{let a=i.toLowerCase(),c=(t=>i=>{var a=Ze(i);if(!Re(a,r,o,!0)){var s=null,c=t;if("pointerType"in i){switch(i.pointerType){case"mouse":s=cn.Mouse;break;case"touch":s=cn.Touch;break;case"pen":s=cn.Pen}s===cn.Touch&&(ln[t]===ln.MouseDown?c="TouchStart":ln[t]===ln.MouseUp&&(c="TouchEnd"))}else i.changedTouches&&(s=cn.Touch);if(null!==s?(l=s,(c.startsWith("Touch")&&s===cn.Touch||c.startsWith("Mouse")&&s===cn.Mouse)&&(s=null)):ln[t]===ln.Click&&(s=l,l=null),i=i.changedTouches?i.changedTouches[0]:i){a=n.getId(a);var{clientX:u,clientY:d}=i;gn(e)(Object.assign({type:ln[c],id:a,x:u,y:d},null!==s&&{pointerType:s}))}}})(i);if(window.PointerEvent)switch(ln[i]){case ln.MouseDown:case ln.MouseUp:a=a.replace("mouse","pointer");break;case ln.TouchStart:case ln.TouchEnd:return}s.push(ke(a,c,t))})),gn((()=>{s.forEach((e=>e()))}))}function Ke({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,sampling:i}){return ke("scroll",i=gn(Te(gn((i=>{var a=Ze(i);a&&!Re(a,r,o,!0)&&(i=n.getId(a),a===t&&t.defaultView?(a=Ne(t.defaultView),e({id:i,x:a.left,y:a.top})):e({id:i,x:a.scrollLeft,y:a.scrollTop}))})),i.scroll||100)),t)}function He(e,t){return e=Object.assign({},e),t||delete e.userTriggered,e}function Je(e){var t=[];return qe("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||qe("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||qe("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||qe("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule?(e=Array.from(e.parentRule.cssRules).indexOf(e),t.unshift(e)):e.parentStyleSheet&&(e=Array.from(e.parentStyleSheet.cssRules).indexOf(e),t.unshift(e)),t}function Ye(e,t,n){let r,o;return e?(e.ownerNode?r=t.getId(e.ownerNode):o=n.getId(e),{styleId:o,id:r}):{}}function Qe({mirror:e,stylesheetManager:t},n){var r,o,i;let a=null;a="#document"===n.nodeName?e.getId(n):e.getId(n.host),e="#document"===n.nodeName?null===(r=n.defaultView)||void 0===r?void 0:r.Document:null===(i=null===(o=n.ownerDocument)||void 0===o?void 0:o.defaultView)||void 0===i?void 0:i.ShadowRoot;let s=Object.getOwnPropertyDescriptor(null==e?void 0:e.prototype,"adoptedStyleSheets");return null!==a&&-1!==a&&e&&s?(Object.defineProperty(n,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get(){var e;return null===(e=s.get)||void 0===e?void 0:e.call(this)},set(e){var n;let r=null===(n=s.set)||void 0===n?void 0:n.call(this,e);if(null!==a&&-1!==a)try{t.adoptStyleSheets(e,a)}catch(e){}return r}}),gn((()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get:s.get,set:s.set})}))):()=>{}}function Xe(e,t={}){let n=e.doc.defaultView;if(!n)return()=>{};!function(e,t){let{mutationCb:n,mousemoveCb:r,mouseInteractionCb:o,scrollCb:i,viewportResizeCb:a,inputCb:s,mediaInteractionCb:l,styleSheetRuleCb:c,styleDeclarationCb:u,canvasMutationCb:d,fontCb:f,selectionCb:p}=e;e.mutationCb=(...e)=>{t.mutation&&t.mutation(...e),n(...e)},e.mousemoveCb=(...e)=>{t.mousemove&&t.mousemove(...e),r(...e)},e.mouseInteractionCb=(...e)=>{t.mouseInteraction&&t.mouseInteraction(...e),o(...e)},e.scrollCb=(...e)=>{t.scroll&&t.scroll(...e),i(...e)},e.viewportResizeCb=(...e)=>{t.viewportResize&&t.viewportResize(...e),a(...e)},e.inputCb=(...e)=>{t.input&&t.input(...e),s(...e)},e.mediaInteractionCb=(...e)=>{t.mediaInteaction&&t.mediaInteaction(...e),l(...e)},e.styleSheetRuleCb=(...e)=>{t.styleSheetRule&&t.styleSheetRule(...e),c(...e)},e.styleDeclarationCb=(...e)=>{t.styleDeclaration&&t.styleDeclaration(...e),u(...e)},e.canvasMutationCb=(...e)=>{t.canvasMutation&&t.canvasMutation(...e),d(...e)},e.fontCb=(...e)=>{t.font&&t.font(...e),f(...e)},e.selectionCb=(...e)=>{t.selection&&t.selection(...e),p(...e)}}(e,t);let r=je(e,e.doc),o=function({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(!1===t.mousemove)return()=>{};var o="number"==typeof t.mousemove?t.mousemove:50;t="number"==typeof t.mousemoveCallback?t.mousemoveCallback:500;let i,a=[],s=Te(gn((t=>{const n=Date.now()-i;e(a.map((e=>(e.timeOffset-=n,e))),t),a=[],i=null})),t),l=[ke("mousemove",o=gn(Te(gn((e=>{const t=Ze(e),{clientX:n,clientY:o}=e.changedTouches?e.changedTouches[0]:e;i||(i=rn()),a.push({x:n,y:o,id:r.getId(t),timeOffset:rn()-i}),s("undefined"!=typeof DragEvent&&e instanceof DragEvent?sn.Drag:e instanceof MouseEvent?sn.MouseMove:sn.TouchMove)})),o,{trailing:!1})),n),ke("touchmove",o,n),ke("drag",o,n)];return gn((()=>{l.forEach((e=>e()))}))}(e),i=ze(e),a=Ke(e),s=function({viewportResizeCb:e},{win:t}){let n=-1,r=-1;return ke("resize",gn(Te(gn((()=>{const t=xe(),o=Ee();n===t&&r===o||(e({width:Number(o),height:Number(t)}),n=t,r=o)})),200)),t)}(e,{win:n}),l=function({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,ignoreClass:i,ignoreSelector:a,maskInputOptions:s,maskInputFn:l,sampling:c,userTriggeredOnInput:u}){function d(e){let n=Ze(e);var c=e.isTrusted;let d=n&&n.tagName;if(n&&"OPTION"===d&&(n=n.parentElement),!(!n||!d||0>yn.indexOf(d)||Re(n,r,o,!0)||n.classList.contains(i)||a&&n.matches(a))){var p=n.value,h=!1;"radio"===(e=pe(n)||"")||"checkbox"===e?h=n.checked:(s[d.toLowerCase()]||s[e])&&(p=fe({element:n,maskInputOptions:s,tagName:d,type:e,value:p,maskInputFn:l})),f(n,gn(He)({text:p,isChecked:h,userTriggered:c},u)),c=n.name,"radio"===e&&c&&h&&t.querySelectorAll(`input[type="radio"][name="${c}"]`).forEach((e=>{e!==n&&f(e,gn(He)({text:e.value,isChecked:!h,userTriggered:!1},u))}))}}function f(t,r){let o=vn.get(t);o&&o.text===r.text&&o.isChecked===r.isChecked||(vn.set(t,r),t=n.getId(t),gn(e)(Object.assign(Object.assign({},r),{id:t})))}let p=("last"===c.input?["change"]:["input","change"]).map((e=>ke(e,gn(d),t))),h=t.defaultView;if(!h)return()=>{p.forEach((e=>e()))};c=h.Object.getOwnPropertyDescriptor(h.HTMLInputElement.prototype,"value");let g=[[h.HTMLInputElement.prototype,"value"],[h.HTMLInputElement.prototype,"checked"],[h.HTMLSelectElement.prototype,"value"],[h.HTMLTextAreaElement.prototype,"value"],[h.HTMLSelectElement.prototype,"selectedIndex"],[h.HTMLOptionElement.prototype,"selected"]];return c&&c.set&&p.push(...g.map((e=>Me(e[0],e[1],{set(){gn(d)({target:this,isTrusted:!1})}},!1,h)))),gn((()=>{p.forEach((e=>e()))}))}(e),c=function({mediaInteractionCb:e,blockClass:t,blockSelector:n,mirror:r,sampling:o,doc:i}){let a=gn((i=>Te(gn((o=>{if((o=Ze(o))&&!Re(o,t,n,!0)){var{currentTime:a,volume:s,muted:l,playbackRate:c}=o;e({type:i,id:r.getId(o),currentTime:a,volume:s,muted:l,playbackRate:c})}})),o.media||500))),s=[ke("play",a(0),i),ke("pause",a(1),i),ke("seeked",a(2),i),ke("volumechange",a(3),i),ke("ratechange",a(4),i)];return gn((()=>{s.forEach((e=>e()))}))}(e),u=function({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};let o=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:gn(((r,o,i)=>{let[a,s]=i,{id:l,styleId:c}=Ye(o,t,n.styleMirror);return(l&&-1!==l||c&&-1!==c)&&e({id:l,styleId:c,adds:[{rule:a,index:s}]}),r.apply(o,i)}))});let i,a,s=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(s,{apply:gn(((r,o,i)=>{let[a]=i,{id:s,styleId:l}=Ye(o,t,n.styleMirror);return(s&&-1!==s||l&&-1!==l)&&e({id:s,styleId:l,removes:[{index:a}]}),r.apply(o,i)}))}),r.CSSStyleSheet.prototype.replace&&(i=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(i,{apply:gn(((r,o,i)=>{let[a]=i,{id:s,styleId:l}=Ye(o,t,n.styleMirror);return(s&&-1!==s||l&&-1!==l)&&e({id:s,styleId:l,replace:a}),r.apply(o,i)}))})),r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:gn(((r,o,i)=>{let[a]=i,{id:s,styleId:l}=Ye(o,t,n.styleMirror);return(s&&-1!==s||l&&-1!==l)&&e({id:s,styleId:l,replaceSync:a}),r.apply(o,i)}))}));let l={};$e("CSSGroupingRule")?l.CSSGroupingRule=r.CSSGroupingRule:($e("CSSMediaRule")&&(l.CSSMediaRule=r.CSSMediaRule),$e("CSSConditionRule")&&(l.CSSConditionRule=r.CSSConditionRule),$e("CSSSupportsRule")&&(l.CSSSupportsRule=r.CSSSupportsRule));let c={};return Object.entries(l).forEach((([r,o])=>{c[r]={insertRule:o.prototype.insertRule,deleteRule:o.prototype.deleteRule},o.prototype.insertRule=new Proxy(c[r].insertRule,{apply:gn(((r,o,i)=>{let[a,s]=i,{id:l,styleId:c}=Ye(o.parentStyleSheet,t,n.styleMirror);return(l&&-1!==l||c&&-1!==c)&&e({id:l,styleId:c,adds:[{rule:a,index:[...Je(o),s||0]}]}),r.apply(o,i)}))}),o.prototype.deleteRule=new Proxy(c[r].deleteRule,{apply:gn(((r,o,i)=>{let[a]=i,{id:s,styleId:l}=Ye(o.parentStyleSheet,t,n.styleMirror);return(s&&-1!==s||l&&-1!==l)&&e({id:s,styleId:l,removes:[{index:[...Je(o),a]}]}),r.apply(o,i)}))})})),gn((()=>{r.CSSStyleSheet.prototype.insertRule=o,r.CSSStyleSheet.prototype.deleteRule=s,i&&(r.CSSStyleSheet.prototype.replace=i),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(l).forEach((([e,t])=>{t.prototype.insertRule=c[e].insertRule,t.prototype.deleteRule=c[e].deleteRule}))}))}(e,{win:n}),d=Qe(e,e.doc),f=function({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:o}){let i=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:gn(((o,a,s)=>{var l;let[c,u,d]=s;if(n.has(c))return i.apply(a,[c,u,d]);let{id:f,styleId:p}=Ye(null===(l=a.parentRule)||void 0===l?void 0:l.parentStyleSheet,t,r.styleMirror);return(f&&-1!==f||p&&-1!==p)&&e({id:f,styleId:p,set:{property:c,value:u,priority:d},index:Je(a.parentRule)}),o.apply(a,s)}))});let a=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(a,{apply:gn(((o,i,s)=>{var l;let[c]=s;if(n.has(c))return a.apply(i,[c]);let{id:u,styleId:d}=Ye(null===(l=i.parentRule)||void 0===l?void 0:l.parentStyleSheet,t,r.styleMirror);return(u&&-1!==u||d&&-1!==d)&&e({id:u,styleId:d,remove:{property:c},index:Je(i.parentRule)}),o.apply(i,s)}))}),gn((()=>{o.CSSStyleDeclaration.prototype.setProperty=i,o.CSSStyleDeclaration.prototype.removeProperty=a}))}(e,{win:n}),p=e.collectFonts?function({fontCb:e,doc:t}){let n=t.defaultView;if(!n)return()=>{};let r=[],o=new WeakMap,i=n.FontFace;return n.FontFace=function(e,t,n){let r=new i(e,t,n);return o.set(r,{family:e,buffer:"string"!=typeof t,descriptors:n,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),r},t=Oe(t.fonts,"add",(function(t){return function(n){return setTimeout(gn((()=>{const t=o.get(n);t&&(e(t),o.delete(n))})),0),t.apply(this,[n])}})),r.push((()=>{n.FontFace=i})),r.push(t),gn((()=>{r.forEach((e=>e()))}))}(e):()=>{},h=function(e){let{doc:t,mirror:n,blockClass:r,blockSelector:o,selectionCb:i}=e,a=!0;return(e=gn((()=>{const e=t.getSelection();if(e&&(!a||null==e||!e.isCollapsed)){a=e.isCollapsed||!1;var s=[],l=e.rangeCount||0;for(let t=0;t<l;t++){const i=e.getRangeAt(t),{startContainer:a,startOffset:l,endContainer:c,endOffset:u}=i;Re(a,r,o,!0)||Re(c,r,o,!0)||s.push({start:n.getId(a),startOffset:l,end:n.getId(c),endOffset:u})}i({ranges:s})}})))(),ke("selectionchange",e)}(e),g=[];for(let t of e.plugins)g.push(t.observer(t.callback,n,t.options));return gn((()=>{mn.forEach((e=>e.reset())),r.disconnect(),o(),i(),a(),s(),l(),c(),u(),d(),f(),p(),h(),g.forEach((e=>e()))}))}function qe(e){return void 0!==window[e]}function $e(e){return!!(void 0!==window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}function et(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function tt(e,t,n){if(e instanceof Array)return e.map((e=>tt(e,t,n)));if(null!==e){if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){var r=e.constructor.name;return{rr_type:r,base64:e=An(e)}}if(e instanceof DataView)return{rr_type:e.constructor.name,args:[tt(e.buffer,t,n),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement)return r=e.constructor.name,({src:e}=e),{rr_type:r,src:e};if(e instanceof HTMLCanvasElement)return{rr_type:"HTMLImageElement",src:e.toDataURL()};if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[tt(e.data,t,n),e.width,e.height]};if(On(e,t)||"object"==typeof e)return{rr_type:r=e.constructor.name,index:e=Tn(e,t,n)}}return e}function nt(e,t,n,r){let o=[];try{let i=Oe(e.HTMLCanvasElement.prototype,"getContext",(function(e){return function(o,...i){if(!Re(this,t,n,!0)){var a="experimental-webgl"===o?"webgl":o;"__context"in this||(this.__context=a),r&&["webgl","webgl2"].includes(a)&&(i[0]&&"object"==typeof i[0]?(a=i[0]).preserveDrawingBuffer||(a.preserveDrawingBuffer=!0):i.splice(0,1,{preserveDrawingBuffer:!0}))}return e.apply(this,[o,...i])}}));o.push(i)}catch(e){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{o.forEach((e=>e()))}}function rt(e,t,n,r,o,i,a){i=[];var s=Object.getOwnPropertyNames(e);for(let l of s)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(l))try{if("function"!=typeof e[l])continue;let s=Oe(e,l,(function(e){return function(...i){const s=e.apply(this,i);return Tn(s,a,this),"tagName"in this.canvas&&!Re(this.canvas,r,o,!0)&&(i=Mn([...i],a,this),n(this.canvas,{type:t,property:l,args:i})),s}}));i.push(s)}catch(r){s=Me(e,l,{set(e){n(this.canvas,{type:t,property:l,args:[e],setter:!0})}}),i.push(s)}return i}function ot(e){return Object.assign(Object.assign({},e),{timestamp:rn()})}function it(e={}){let{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:o="rr-block",blockSelector:i=null,ignoreClass:a="rr-ignore",ignoreSelector:s=null,maskTextClass:l="rr-mask",maskTextSelector:c=null,inlineStylesheet:u=!0,maskAllInputs:d,maskInputOptions:f,slimDOMOptions:p,maskInputFn:h,maskTextFn:g,hooks:m,packFn:y,sampling:v={},dataURLOptions:I={},mousemoveWait:C,recordCanvas:w=!1,recordCrossOriginIframes:b=!1,recordAfter:S=("DOMContentLoaded"===e.recordAfter?e.recordAfter:"load"),userTriggeredOnInput:A=!1,collectFonts:k=!1,inlineImages:T=!1,plugins:M,keepIframeSrcFn:O=(()=>!1),ignoreCSSAttributes:N=new Set([]),errorHandler:x}=e;hn=x;let E=!b||window.parent===window,R=!1;if(!E)try{window.parent.document&&(R=!1)}catch(e){R=!0}if(E&&!t)throw Error("emit function is required");void 0!==C&&void 0===v.mousemove&&(v.mousemove=C),Pn.reset();let D=!0===d?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:void 0!==f?f:{password:!0},L=!0===p||"all"===p?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===p,headMetaDescKeywords:"all"===p}:p||{};!function(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let t=e[0];if(!(0 in e))throw new TypeError("1 argument is required");do{if(this===t)return!0}while(t=t&&t.parentNode);return!1})}();let F,B=0,U=e=>{for(const t of M||[])t.eventProcessor&&(e=t.eventProcessor(e));return y&&!R&&(e=y(e)),e};Ln=(e,o)=>{var i;null!==(i=mn[0])&&void 0!==i&&i.isFrozen()&&e.type!==an.FullSnapshot&&(e.type!==an.IncrementalSnapshot||e.data.source!==sn.Mutation)&&mn.forEach((e=>e.unfreeze())),E?null==t||t(U(e),o):R&&(o={type:"rrweb",event:U(e),origin:window.location.origin,isCheckout:o},window.parent.postMessage(o,"*")),e.type===an.FullSnapshot?(F=e,B=0):e.type!==an.IncrementalSnapshot||e.data.source===sn.Mutation&&e.data.isAttachIframe||(B++,e=n&&e.timestamp-F.timestamp>n,(r&&B>=r||e)&&Fn(!0))};let P=e=>{Ln(ot({type:an.IncrementalSnapshot,data:Object.assign({source:sn.Mutation},e)}))},V=e=>Ln(ot({type:an.IncrementalSnapshot,data:Object.assign({source:sn.Scroll},e)})),W=e=>Ln(ot({type:an.IncrementalSnapshot,data:Object.assign({source:sn.CanvasMutation},e)})),_=new Rn({mutationCb:P,adoptedStyleSheetCb:e=>Ln(ot({type:an.IncrementalSnapshot,data:Object.assign({source:sn.AdoptedStyleSheet},e)}))}),G=new Cn({mirror:Pn,mutationCb:P,stylesheetManager:_,recordCrossOriginIframes:b,wrappedEmit:Ln});for(let e of M||[])e.getMirror&&e.getMirror({nodeMirror:Pn,crossOriginIframeMirror:G.crossOriginIframeMirror,crossOriginIframeStyleMirror:G.crossOriginIframeStyleMirror});let Z=new Dn;Bn=new En({recordCanvas:w,mutationCb:W,win:window,blockClass:o,blockSelector:i,mirror:Pn,sampling:v.canvas,dataURLOptions:I});let j=new wn({mutationCb:P,scrollCb:V,bypassOptions:{blockClass:o,blockSelector:i,maskTextClass:l,maskTextSelector:c,inlineStylesheet:u,maskInputOptions:D,dataURLOptions:I,maskTextFn:g,maskInputFn:h,recordCanvas:w,inlineImages:T,sampling:v,slimDOMOptions:L,iframeManager:G,stylesheetManager:_,canvasManager:Bn,keepIframeSrcFn:O,processedNodeManager:Z},mirror:Pn});Fn=(e=!1)=>{Ln(ot({type:an.Meta,data:{href:window.location.href,width:Ee(),height:xe()}}),e),_.reset(),j.init(),mn.forEach((e=>e.lock()));let t=function(e,t){var n=(t=t||{}).mirror;n=void 0===n?new Ht:n;var r=t.blockClass,o=t.blockSelector,i=t.maskTextClass,a=t.maskTextSelector,s=t.inlineStylesheet,l=t.inlineImages,c=t.recordCanvas,u=t.maskAllInputs;u=void 0!==u&&u;var d=t.slimDOM;d=void 0!==d&&d;var f=t.keepIframeSrcFn;return Ae(e,{doc:e,mirror:n,blockClass:void 0===r?"rr-block":r,blockSelector:void 0===o?null:o,maskTextClass:void 0===i?"rr-mask":i,maskTextSelector:void 0===a?null:a,skipChild:!1,inlineStylesheet:void 0===s||s,maskInputOptions:!0===u?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:!1===u?{password:!0}:u,maskTextFn:t.maskTextFn,maskInputFn:t.maskInputFn,slimDOMOptions:!0===d||"all"===d?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===d,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===d?{}:d,dataURLOptions:t.dataURLOptions,inlineImages:void 0!==l&&l,recordCanvas:void 0!==c&&c,preserveWhiteSpace:t.preserveWhiteSpace,onSerialize:t.onSerialize,onIframeLoad:t.onIframeLoad,iframeLoadTimeout:t.iframeLoadTimeout,onStylesheetLoad:t.onStylesheetLoad,stylesheetLoadTimeout:t.stylesheetLoadTimeout,keepIframeSrcFn:void 0===f?function(){return!1}:f,newlyAddedElement:!1})}(document,{mirror:Pn,blockClass:o,blockSelector:i,maskTextClass:l,maskTextSelector:c,inlineStylesheet:u,maskAllInputs:D,maskTextFn:g,slimDOM:L,dataURLOptions:I,recordCanvas:w,inlineImages:T,onSerialize:e=>{"IFRAME"===e.nodeName&&Pn.getMeta(e)&&G.addIframe(e),Le(e,Pn)&&_.trackLinkElement(e),Fe(e)&&j.addShadowRoot(e.shadowRoot,document)},onIframeLoad:(e,t)=>{G.attachIframe(e,t),j.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{_.attachLinkElement(e,t)},keepIframeSrcFn:O});if(!t)return console.warn("Failed to snapshot the document");Ln(ot({type:an.FullSnapshot,data:{node:t,initialOffset:Ne(window)}}),e),mn.forEach((e=>e.unlock())),document.adoptedStyleSheets&&0<document.adoptedStyleSheets.length&&_.adoptStyleSheets(document.adoptedStyleSheets,Pn.getId(document))};try{let e=[],t=e=>{var t;return gn(Xe)({mutationCb:P,mousemoveCb:(e,t)=>Ln(ot({type:an.IncrementalSnapshot,data:{source:t,positions:e}})),mouseInteractionCb:e=>Ln(ot({type:an.IncrementalSnapshot,data:Object.assign({source:sn.MouseInteraction},e)})),scrollCb:V,viewportResizeCb:e=>Ln(ot({type:an.IncrementalSnapshot,data:Object.assign({source:sn.ViewportResize},e)})),inputCb:e=>Ln(ot({type:an.IncrementalSnapshot,data:Object.assign({source:sn.Input},e)})),mediaInteractionCb:e=>Ln(ot({type:an.IncrementalSnapshot,data:Object.assign({source:sn.MediaInteraction},e)})),styleSheetRuleCb:e=>Ln(ot({type:an.IncrementalSnapshot,data:Object.assign({source:sn.StyleSheetRule},e)})),styleDeclarationCb:e=>Ln(ot({type:an.IncrementalSnapshot,data:Object.assign({source:sn.StyleDeclaration},e)})),canvasMutationCb:W,fontCb:e=>Ln(ot({type:an.IncrementalSnapshot,data:Object.assign({source:sn.Font},e)})),selectionCb:e=>{Ln(ot({type:an.IncrementalSnapshot,data:Object.assign({source:sn.Selection},e)}))},blockClass:o,ignoreClass:a,ignoreSelector:s,maskTextClass:l,maskTextSelector:c,maskInputOptions:D,inlineStylesheet:u,sampling:v,recordCanvas:w,inlineImages:T,userTriggeredOnInput:A,collectFonts:k,doc:e,maskInputFn:h,maskTextFn:g,keepIframeSrcFn:O,blockSelector:i,slimDOMOptions:L,dataURLOptions:I,mirror:Pn,iframeManager:G,stylesheetManager:_,shadowDomManager:j,processedNodeManager:Z,canvasManager:Bn,ignoreCSSAttributes:N,plugins:(null===(t=null==M?void 0:M.filter((e=>e.observer)))||void 0===t?void 0:t.map((e=>({observer:e.observer,options:e.options,callback:t=>Ln(ot({type:an.Plugin,data:{plugin:e.name,payload:t}}))}))))||[]},m)};G.addLoadListener((n=>{try{e.push(t(n.contentDocument))}catch(e){console.warn(e)}}));let n=()=>{Fn(),e.push(t(document)),Un=!0};return"interactive"===document.readyState||"complete"===document.readyState?n():(e.push(ke("DOMContentLoaded",(()=>{Ln(ot({type:an.DomContentLoaded,data:{}})),"DOMContentLoaded"===S&&n()}))),e.push(ke("load",(()=>{Ln(ot({type:an.Load,data:{}})),"load"===S&&n()}),window))),()=>{e.forEach((e=>e())),Z.destroy(),Un=!1,hn=void 0}}catch(e){console.warn(e)}}function at(e,t){if(t){t=new Vn(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t}if(mr)return mr.encode(e);var r=e.length,o=new Vn(e.length+(e.length>>1)),i=0,a=function(e){o[i++]=e};for(n=0;n<r;++n){if(i+5>o.length){var s=new Vn(i+8+(r-n<<1));s.set(o),o=s}128>(s=e.charCodeAt(n))||t?a(s):(2048>s?a(192|s>>6):55295<s&&57344>s?(a(240|(s=65536+(1047552&s)|1023&e.charCodeAt(++n))>>18),a(128|s>>12&63),a(128|s>>6&63)):(a(224|s>>12),a(128|s>>6&63)),a(128|63&s))}return rr(o,0,i)}function st(e){!function(){if(""===Ir){Ir=document.location.href;var e=history.pushState,t=history.replaceState;history.pushState=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.apply(history,t),Cr()},history.replaceState=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.apply(history,e),Cr()},window.addEventListener("popstate",(function(){return Cr()}))}}(),vr.push(e)}function lt(e,t){if(e){var n=function(){if(0!==wr.length){var e=wr.slice(0);wr=[];for(var r=0;r<e.length;r++){var o=e[r],i=Number(o.type),a=String(o.timestamp);isNaN(a)&&(a=String(new Date(a).getTime()));var s=at(o=JSON.stringify(o.data)),l={};(o=gr()).p(s);var c=l,u=l.dictionary?6:2,d=void 0;if(!d&&(d={l:1},c.dictionary)){var f=c.dictionary.subarray(-32768),p=new Vn(f.length+s.length);p.set(f),p.set(s,f.length),s=p,d.w=f.length}if(c=s=hr(s,null==c.level?6:c.level,null==c.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):12+c.mem,u,4,d),l=(u=l).level,c[0]=120,c[1]=(0==l?0:6>l?1:9==l?3:2)<<6|(u.dictionary&&32),c[1]|=31-(c[0]<<8|c[1])%31,u.dictionary)for((l=gr()).p(u.dictionary),u=2,l=l.d();l;++u)c[u]=l,l>>>=8;for(l=s,c=s.length-4,o=o.d();o;++c)l[c]=o,o>>>=8;for(s=(o=s).byteLength,l="",c=0;c<s;c++)l+=String.fromCharCode(o[c]);for(o=l,s=0,l="",c=[],u=0;u<o.length;u++){d=o.charCodeAt(u),p=u;var h=0;'"'===(f=o.charAt(u))||"\\"===f?h+=2:127>=d?h+=1:2047>=d?h+=2:55296<=d&&57343>=d?(h+=4,u++):h=65535>d?h+3:h+4,17e3>=s&&17e3<s+h&&(c.push(l),l="",s=0),s+=h,l+=o.slice(p,u+1)}for(var g in 0!==l.length&&c.push(l),o=c)o.hasOwnProperty(g)&&t(o[g],Number(g)+1,Number(o.length),a,i)}}setTimeout(n,50)};n()}else(function(e){for(var t in vr)if(vr[t]===e){vr.splice(Number(t),1);break}})(Sr),"function"==typeof br&&br(),wr=[]}var ct=function(){return ct=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ct.apply(this,arguments)},ut={},dt="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(dt){var ft=new Uint8Array(16);ut=function(){return dt(ft),ft}}else{var pt=Array(16);ut=function(){for(var e,t=0;16>t;t++)0==(3&t)&&(e=4294967296*Math.random()),pt[t]=e>>>((3&t)<<3)&255;return pt}}for(var ht=[],gt=0;256>gt;++gt)ht[gt]=(gt+256).toString(16).substr(1);var mt,yt,vt=function(e,t){return t=t||0,[ht[e[t++]],ht[e[t++]],ht[e[t++]],ht[e[t++]],"-",ht[e[t++]],ht[e[t++]],"-",ht[e[t++]],ht[e[t++]],"-",ht[e[t++]],ht[e[t++]],"-",ht[e[t++]],ht[e[t++]],ht[e[t++]],ht[e[t++]],ht[e[t++]],ht[e[t++]]].join("")},It=ut,Ct=0,wt=0,bt=ut,St=function(e,t,n){if(n=t&&n||0,"string"==typeof e&&(t="binary"===e?Array(16):null,e=null),(e=(e=e||{}).random||(e.rng||bt)())[6]=15&e[6]|64,e[8]=63&e[8]|128,t)for(var r=0;16>r;++r)t[n+r]=e[r];return t||vt(e)};St.v1=function(e,t,n){n=t&&n||0;var r=t||[],o=(e=e||{}).node||mt,i=void 0!==e.clockseq?e.clockseq:yt;if(null==o||null==i){var a=It();null==o&&(o=mt=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==i&&(i=yt=16383&(a[6]<<8|a[7]))}a=void 0!==e.msecs?e.msecs:(new Date).getTime();var s=void 0!==e.nsecs?e.nsecs:wt+1,l=a-Ct+(s-wt)/1e4;if(0>l&&void 0===e.clockseq&&(i=i+1&16383),(0>l||a>Ct)&&void 0===e.nsecs&&(s=0),1e4<=s)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");for(Ct=a,wt=s,yt=i,e=(1e4*(268435455&(a+=122192928e5))+s)%4294967296,r[n++]=e>>>24&255,r[n++]=e>>>16&255,r[n++]=e>>>8&255,r[n++]=255&e,e=a/4294967296*1e4&268435455,r[n++]=e>>>8&255,r[n++]=255&e,r[n++]=e>>>24&15|16,r[n++]=e>>>16&255,r[n++]=i>>>8|128,r[n++]=255&i,i=0;6>i;++i)r[n+i]=o[i];return t||vt(r)};var At,kt,Tt=St.v4=St,Mt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";(kt=At||(At={}))[kt.none=0]="none",kt[kt.error=1]="error",kt[kt.warn=2]="warn",kt[kt.debug=3]="debug",kt[kt.info=4]="info";var Ot=function(e){return void 0===e&&(e=At.warn),{setLogLevel:function(t){e=At[t]?t:At.warn},warn:function(t,n){for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];e>=At.warn&&"undefined"!=typeof console&&(i="Snowplow: "+t,n?console.warn.apply(console,r([i+"\n",n],o,!1)):console.warn.apply(console,r([i],o,!1)))},error:function(t,n){for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];e>=At.error&&"undefined"!=typeof console&&(i="Snowplow: "+t+"\n",n?console.error.apply(console,r([i+"\n",n],o,!1)):console.error.apply(console,r([i],o,!1)))},debug:function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];e>=At.debug&&"undefined"!=typeof console&&console.debug.apply(console,r(["Snowplow: "+t],n,!1))},info:function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];e>=At.info&&"undefined"!=typeof console&&console.info.apply(console,r(["Snowplow: "+t],n,!1))}}}(),Nt={},xt={};!function(){var e={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(t){if(t.constructor==Number)return 16711935&e.rotl(t,8)|4278255360&e.rotl(t,24);for(var n=0;n<t.length;n++)t[n]=e.endian(t[n]);return t},randomBytes:function(e){for(var t=[];0<e;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var t=[],n=0;n<e.length;n+=3)for(var r=e[n]<<16|e[n+1]<<8|e[n+2],o=0;4>o;o++)8*n+6*o<=8*e.length?t.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r>>>6*(3-o)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],n=0,r=0;n<e.length;r=++n%4)0!=r&&t.push(("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(n-1))&Math.pow(2,-2*r+8)-1)<<2*r|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(n))>>>6-2*r);return t}};xt=e}();var Et={utf8:{stringToBytes:function(e){return Et.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(Et.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}},Rt=Et;!function(){var e=xt,t=Rt.utf8,n=Rt.bin,r=function(r,o){var i=e.wordsToBytes,a=r;a.constructor==String?a=t.stringToBytes(a):"undefined"!=typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(a)?a=Array.prototype.slice.call(a,0):Array.isArray(a)||(a=a.toString()),r=e.bytesToWords(a);var s=8*a.length;a=[];var l=1732584193,c=-271733879,u=-1732584194,d=271733878,f=-1009589776;for(r[s>>5]|=128<<24-s%32,r[15+(s+64>>>9<<4)]=s,s=0;s<r.length;s+=16){for(var p=l,h=c,g=u,m=d,y=f,v=0;80>v;v++){if(16>v)a[v]=r[s+v];else{var I=a[v-3]^a[v-8]^a[v-14]^a[v-16];a[v]=I<<1|I>>>31}I=(l<<5|l>>>27)+f+(a[v]>>>0)+(20>v?1518500249+(c&u|~c&d):40>v?1859775393+(c^u^d):60>v?(c&u|c&d|u&d)-1894007588:(c^u^d)-899497514),f=d,d=u,u=c<<30|c>>>2,c=l,l=I}l+=p,c+=h,u+=g,d+=m,f+=y}return i=i.call(e,[l,c,u,d,f]),o&&o.asBytes?i:o&&o.asString?n.bytesToString(i):e.bytesToHex(i)};r._blocksize=16,r._digestsize=20,Nt=r}();var Dt,Lt=Nt,Ft={},Bt=function(){this.outQueues=[],this.bufferFlushers=[],this.hasLoaded=!1,this.registeredOnLoadHandlers=[]},Ut="undefined"!=typeof window?$():void 0,Pt=Object.freeze({__proto__:null,addGlobalContexts:function(e,t){Q(t,(function(t){t.core.addGlobalContexts(e)}))},addPlugin:function(e,t){Q(t,(function(t){t.addPlugin(e)}))},clearGlobalContexts:function(e){Q(e,(function(e){e.core.clearGlobalContexts()}))},clearUserData:function(e,t){Q(t,(function(t){t.clearUserData(e)}))},crossDomainLinker:function(e,t){Q(t,(function(t){t.crossDomainLinker(e)}))},disableActivityTracking:function(e){Q(e,(function(e){e.disableActivityTracking()}))},disableActivityTrackingCallback:function(e){Q(e,(function(e){e.disableActivityTrackingCallback()}))},disableAnonymousTracking:function(e,t){Q(t,(function(t){t.disableAnonymousTracking(e)}))},discardBrace:function(e,t){Q(t,(function(t){t.discardBrace(e)}))},discardHashTag:function(e,t){Q(t,(function(t){t.discardHashTag(e)}))},enableActivityTracking:function(e,t){Q(t,(function(t){t.enableActivityTracking(e)}))},enableActivityTrackingCallback:function(e,t){Q(t,(function(t){t.enableActivityTrackingCallback(e)}))},enableAnonymousTracking:function(e,t){Q(t,(function(t){t.enableAnonymousTracking(e)}))},flushBuffer:function(e,t){Q(t,(function(t){t.flushBuffer(e)}))},newSession:function(e){Q(e,(function(e){e.newSession()}))},newTracker:function(e,t,n){if(void 0===n&&(n={}),Ut)return X(e,e,"js-".concat("3.18.0"),t,Ut,n)},preservePageViewId:function(e){Q(e,(function(e){e.preservePageViewId()}))},removeGlobalContexts:function(e,t){Q(t,(function(t){t.core.removeGlobalContexts(e)}))},setBufferSize:function(e,t){Q(t,(function(t){t.setBufferSize(e)}))},setCollectorUrl:function(e,t){Q(t,(function(t){t.setCollectorUrl(e)}))},setCookiePath:function(e,t){Q(t,(function(t){t.setCookiePath(e)}))},setCustomUrl:function(e,t){Q(t,(function(t){t.setCustomUrl(e)}))},setDocumentTitle:function(e,t){Q(t,(function(t){t.setDocumentTitle(e)}))},setOptOutCookie:function(e,t){Q(t,(function(t){t.setOptOutCookie(e)}))},setReferrerUrl:function(e,t){Q(t,(function(t){t.setReferrerUrl(e)}))},setUserId:function(e,t){Q(t,(function(t){t.setUserId(e)}))},setUserIdFromCookie:function(e,t){Q(t,(function(t){t.setUserIdFromCookie(e)}))},setUserIdFromLocation:function(e,t){Q(t,(function(t){t.setUserIdFromLocation(e)}))},setUserIdFromReferrer:function(e,t){Q(t,(function(t){t.setUserIdFromReferrer(e)}))},setVisitorCookieTimeout:function(e,t){Q(t,(function(t){t.setVisitorCookieTimeout(e)}))},trackPageView:function(e,t){Q(t,(function(t){t.trackPageView(e)}))},trackSelfDescribingEvent:function(e,t){Q(t,(function(t){t.core.track(T({event:e.event}),e.context,e.timestamp)}))},trackStructEvent:function(e,t){Q(t,(function(t){var n=(t=t.core).track,r=e.category,i=e.action,a=e.label,s=e.property,l=e.value,c=o();c.add("e","se"),c.add("se_ca",r),c.add("se_ac",i),c.add("se_la",a),c.add("se_pr",s),c.add("se_va",null==l?void 0:l.toString()),n.call(t,c,e.context,e.timestamp)}))},updatePageActivity:function(e){Q(e,(function(e){e.updatePageActivity()}))},version:"3.18.0"});!function(e){e.CHANGE_FORM="change_form",e.FOCUS_FORM="focus_form",e.SUBMIT_FORM="submit_form"}(Dt||(Dt={}));var Vt,Wt=[Dt.CHANGE_FORM,Dt.FOCUS_FORM,Dt.SUBMIT_FORM],_t=["textarea","input","select"],Gt=function(e){return e},Zt={},jt=Object.freeze({__proto__:null,FormTrackingPlugin:oe,enableFormTracking:function(e,t){void 0===e&&(e={}),void 0===t&&(t=Object.keys(Zt)),t.forEach((function(t){Zt[t]&&(Zt[t].sharedState.hasLoaded?ee(Zt[t],e):Zt[t].sharedState.registeredOnLoadHandlers.push((function(){ee(Zt[t],e)})))}))}});!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(Vt||(Vt={}));var zt,Kt,Ht=function(){function e(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}return e.prototype.getId=function(e){var t;return e&&null!=(e=null===(t=this.getMeta(e))||void 0===t?void 0:t.id)?e:-1},e.prototype.getNode=function(e){return this.idNodeMap.get(e)||null},e.prototype.getIds=function(){return Array.from(this.idNodeMap.keys())},e.prototype.getMeta=function(e){return this.nodeMetaMap.get(e)||null},e.prototype.removeNodeFromMap=function(e){var t=this,n=this.getId(e);this.idNodeMap.delete(n),e.childNodes&&e.childNodes.forEach((function(e){return t.removeNodeFromMap(e)}))},e.prototype.has=function(e){return this.idNodeMap.has(e)},e.prototype.hasNode=function(e){return this.nodeMetaMap.has(e)},e.prototype.add=function(e,t){this.idNodeMap.set(t.id,e),this.nodeMetaMap.set(e,t)},e.prototype.replace=function(e,t){var n=this.getNode(e);n&&(n=this.nodeMetaMap.get(n))&&this.nodeMetaMap.set(t,n),this.idNodeMap.set(e,t)},e.prototype.reset=function(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap},e}(),Jt=1,Yt=/[^a-z0-9-_:]/,Qt=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Xt=/^(?:[a-z+]+:)?\/\//i,qt=/^www\..*/i,$t=/^(data:)([^,]*),(.*)/i,en=/^[^ \t\n\r\u000c]+/,tn=/^[, \t\n\r\u000c]+/;let nn={map:{},getId:()=>(console.error("Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording."),-1),getNode:()=>(console.error("Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording."),null),removeNodeFromMap(){console.error("Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.")},has:()=>(console.error("Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording."),!1),reset(){console.error("Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.")}};"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(nn=new Proxy(nn,{get:(e,t,n)=>("map"===t&&console.error("Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording."),Reflect.get(e,t,n))}));let rn=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(rn=()=>(new Date).getTime());class on{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){var t;return null!==(t=this.styleIDMap.get(e))&&void 0!==t?t:-1}has(e){return this.styleIDMap.has(e)}add(e,t){return this.has(e)?this.getId(e):(t=void 0===t?this.id++:t,this.styleIDMap.set(e,t),this.idStyleMap.set(t,e),t)}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}var an=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(an||{}),sn=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e))(sn||{}),ln=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(ln||{}),cn=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(cn||{}),un=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(un||{}),dn=(e=>(e.Start="start",e.Pause="pause",e.Resume="resume",e.Resize="resize",e.Finish="finish",e.FullsnapshotRebuilded="fullsnapshot-rebuilded",e.LoadStylesheetStart="load-stylesheet-start",e.LoadStylesheetEnd="load-stylesheet-end",e.SkipStart="skip-start",e.SkipEnd="skip-end",e.MouseInteraction="mouse-interaction",e.EventCast="event-cast",e.CustomEvent="custom-event",e.Flush="flush",e.StateChange="state-change",e.PlayBack="play-back",e.Destroy="destroy",e))(dn||{});class fn{constructor(){this.length=0,this.tail=this.head=null}get(e){if(e>=this.length)throw Error("Position outside of list range");let t=this.head;for(let n=0;n<e;n++)t=(null==t?void 0:t.next)||null;return t}addNode(e){let t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&"__ln"in e.previousSibling){var n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else e.nextSibling&&"__ln"in e.nextSibling&&e.nextSibling.__ln.previous?(n=e.nextSibling.__ln.previous,t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)):(this.head&&(this.head.previous=t),t.next=this.head,this.head=t);null===t.next&&(this.tail=t),this.length++}removeNode(e){let t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next)?t.next.previous=t.previous:this.tail=t.previous:(this.head=t.next)?this.head.previous=null:this.tail=null,e.__ln&&delete e.__ln,this.length--)}}class pn{constructor(){this.locked=this.frozen=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(!this.frozen&&!this.locked){for(var e=[],t=new Set,n=new fn,r=e=>{let t=-2;for(;-2===t;)t=(e=e&&e.nextSibling)&&this.mirror.getId(e);return t},o=o=>{if(o.parentNode&&Ue(o)){var i=le(o.parentNode)?this.mirror.getId(Be(o)):this.mirror.getId(o.parentNode),a=r(o);if(-1===i||-1===a)return n.addNode(o);var s=Ae(o,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{"IFRAME"===e.nodeName&&this.mirror.getMeta(e)&&this.iframeManager.addIframe(e),Le(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),Fe(o)&&this.shadowDomManager.addShadowRoot(o.shadowRoot,this.doc)},onIframeLoad:(e,t)=>{this.iframeManager.attachIframe(e,t),this.shadowDomManager.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t)}});s&&(e.push({parentId:i,nextId:a,node:s}),t.add(s.id))}};this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(var i of this.movedSet)Ve(this.removes,i,this.mirror)&&!this.movedSet.has(i.parentNode)||o(i);for(var a of this.addedSet)_e(this.droppedSet,a)||Ve(this.removes,a,this.mirror)?_e(this.movedSet,a)?o(a):this.droppedSet.add(a):o(a);for(a=null;n.length;){if(i=null,a){var s=this.mirror.getId(a.value.parentNode),l=r(a.value);-1!==s&&-1!==l&&(i=a)}if(!i)for(a=n.tail;a;)if(s=a,a=a.previous,s&&(l=this.mirror.getId(s.value.parentNode),-1!==r(s.value))){if(-1!==l){i=s;break}if((l=s.value).parentNode&&l.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&-1!==this.mirror.getId(l.parentNode.host)){i=s;break}}if(!i){for(;n.head;)n.removeNode(n.head.value);break}a=i.previous,n.removeNode(i.value),o(i.value)}((o={texts:this.texts.map((e=>({id:this.mirror.getId(e.node),value:e.value}))).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),attributes:this.attributes.map((e=>{const{attributes:t}=e;if("string"==typeof t.style){const n=JSON.stringify(e.styleDiff),r=JSON.stringify(e._unchangedStyles);n.length<t.style.length&&(n+r).split("var(").length===t.style.split("var(").length&&(t.style=e.styleDiff)}return{id:this.mirror.getId(e.node),attributes:t}})).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),removes:this.removes,adds:e}).texts.length||o.attributes.length||o.removes.length||o.adds.length)&&(this.texts=[],this.attributes=[],this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(o))}},this.processMutation=e=>{if(-2!==this.mirror.getId(e.target)){try{var t=document.implementation.createHTMLDocument()}catch(e){t=this.doc}switch(e.type){case"characterData":var n=e.target.textContent;Re(e.target,this.blockClass,this.blockSelector,!1)||n===e.oldValue||this.texts.push({value:we(e.target,this.maskTextClass,this.maskTextSelector)&&n?this.maskTextFn?this.maskTextFn(n):n.replace(/[\S]/g,"*"):n,node:e.target});break;case"attributes":n=e.target;var r=e.attributeName,o=e.target.getAttribute(r);if("value"===r){var i=pe(n);o=fe({element:n,maskInputOptions:this.maskInputOptions,tagName:n.tagName,type:i,value:o,maskInputFn:this.maskInputFn})}if(Re(e.target,this.blockClass,this.blockSelector,!1)||o===e.oldValue)break;if(i=this.attributes.find((t=>t.node===e.target)),"IFRAME"===n.tagName&&"src"===r&&!this.keepIframeSrcFn(o)){if(n.contentDocument)break;r="rr_src"}if(i||(i={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i)),"type"===r&&"INPUT"===n.tagName&&"password"===(e.oldValue||"").toLowerCase()&&n.setAttribute("data-rr-is-password","true"),!Ie(n.tagName,r)&&(i.attributes[r]=ve(this.doc,n.tagName.toLowerCase(),r.toLowerCase(),o),"style"===r)){t=t.createElement("span"),e.oldValue&&t.setAttribute("style",e.oldValue);for(let e of Array.from(n.style))r=n.style.getPropertyValue(e),o=n.style.getPropertyPriority(e),r!==t.style.getPropertyValue(e)||o!==t.style.getPropertyPriority(e)?i.styleDiff[e]=""===o?r:[r,o]:i._unchangedStyles[e]=[r,o];for(let e of Array.from(t.style))""===n.style.getPropertyValue(e)&&(i.styleDiff[e]=!1)}break;case"childList":Re(e.target,this.blockClass,this.blockSelector,!0)||(e.addedNodes.forEach((t=>this.genAdds(t,e.target))),e.removedNodes.forEach((t=>{let n=this.mirror.getId(t),r=le(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);Re(e.target,this.blockClass,this.blockSelector,!1)||-2===this.mirror.getId(t)||-1===this.mirror.getId(t)||(this.addedSet.has(t)?(Pe(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===n||De(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[`${n}@${r}`]?Pe(this.movedSet,t):this.removes.push({parentId:r,id:n,isShadow:!(!le(e.target)||!ce(e.target))||void 0})),this.mapRemoves.push(t))})))}}},this.genAdds=(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!this.addedSet.has(e)&&!this.movedSet.has(e)){if(this.mirror.hasNode(e)){if(-2===this.mirror.getId(e))return;this.movedSet.add(e);let n=null;t&&this.mirror.hasNode(t)&&(n=this.mirror.getId(t)),n&&-1!==n&&(this.movedMap[((e,t)=>`${e}@${t}`)(this.mirror.getId(e),n)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);Re(e,this.blockClass,this.blockSelector,!1)||(e.childNodes.forEach((e=>this.genAdds(e))),Fe(e)&&e.shadowRoot.childNodes.forEach((t=>{this.processedNodeManager.add(t,this),this.genAdds(t,e)})))}}}init(e){"mutationCb blockClass blockSelector maskTextClass maskTextSelector inlineStylesheet maskInputOptions maskTextFn maskInputFn keepIframeSrcFn recordCanvas inlineImages slimDOMOptions dataURLOptions doc mirror iframeManager stylesheetManager shadowDomManager canvasManager processedNodeManager".split(" ").forEach((t=>{this[t]=e[t]}))}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}let hn,gn=e=>hn?(...t)=>{try{return e(...t)}catch(e){if(!hn||!0!==hn(e))throw e}}:e,mn=[],yn=["INPUT","TEXTAREA","SELECT"],vn=new WeakMap;class In{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,t,n,r){return n=n||this.getIdToRemoteIdMap(e),e=r||this.getRemoteIdToIdMap(e),(r=n.get(t))||(r=this.generateIdFn(),n.set(t,r),e.set(r,t)),r}getIds(e,t){let n=this.getIdToRemoteIdMap(e),r=this.getRemoteIdToIdMap(e);return t.map((t=>this.getId(e,t,n,r)))}getRemoteId(e,t,n){return e=n||this.getRemoteIdToIdMap(e),"number"!=typeof t||(t=e.get(t))?t:-1}getRemoteIds(e,t){let n=this.getRemoteIdToIdMap(e);return t.map((t=>this.getRemoteId(e,t,n)))}reset(e){e?(this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)):(this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}class Cn{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new In(he),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new In(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){var n;this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),null===(n=this.loadListener)||void 0===n||n.call(this,e),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&0<e.contentDocument.adoptedStyleSheets.length&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){if("rrweb"===e.data.type&&e.origin===e.data.origin&&e.source){var t=this.crossOriginIframeMap.get(e.source);t&&(t=this.transformCrossOriginEvent(t,e.data.event))&&this.wrappedEmit(t,e.data.isCheckout)}}transformCrossOriginEvent(e,t){switch(t.type){case an.FullSnapshot:this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);var n=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,n),this.patchRootIdOnNode(t.data.node,n),{timestamp:t.timestamp,type:an.IncrementalSnapshot,data:{source:sn.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}};case an.Meta:case an.Load:case an.DomContentLoaded:return!1;case an.Plugin:return t;case an.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case an.IncrementalSnapshot:switch(t.data.source){case sn.Mutation:return t.data.adds.forEach((t=>{this.replaceIds(t,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(t.node,e);let n=this.crossOriginIframeRootIdMap.get(e);n&&this.patchRootIdOnNode(t.node,n)})),t.data.removes.forEach((t=>{this.replaceIds(t,e,["parentId","id"])})),t.data.attributes.forEach((t=>{this.replaceIds(t,e,["id"])})),t.data.texts.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case sn.Drag:case sn.TouchMove:case sn.MouseMove:return t.data.positions.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case sn.ViewportResize:return!1;case sn.MediaInteraction:case sn.MouseInteraction:case sn.Scroll:case sn.CanvasMutation:case sn.Input:return this.replaceIds(t.data,e,["id"]),t;case sn.StyleSheetRule:case sn.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case sn.Font:return t;case sn.Selection:return t.data.ranges.forEach((t=>{this.replaceIds(t,e,["start","end"])})),t;case sn.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),null===(n=t.data.styles)||void 0===n||n.forEach((t=>{this.replaceStyleIds(t,e,["styleId"])})),t}}}replace(e,t,n,r){for(let o of r)(Array.isArray(t[o])||"number"==typeof t[o])&&(Array.isArray(t[o])?t[o]=e.getIds(n,t[o]):t[o]=e.getId(n,t[o]));return t}replaceIds(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}replaceStyleIds(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach((e=>{this.replaceIdOnNode(e,t)}))}patchRootIdOnNode(e,t){e.type===Vt.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach((e=>{this.patchRootIdOnNode(e,t)}))}}class wn{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(ce(e)&&!this.shadowDoms.has(e)){this.shadowDoms.add(e);var n=je(Object.assign(Object.assign({},this.bypassOptions),{doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),e);this.restoreHandlers.push((()=>n.disconnect())),this.restoreHandlers.push(Ke(Object.assign(Object.assign({},this.bypassOptions),{scrollCb:this.scrollCb,doc:e,mirror:this.mirror}))),setTimeout((()=>{e.adoptedStyleSheets&&0<e.adoptedStyleSheets.length&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(Qe({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))}),0)}}observeAttachShadow(e){e.contentWindow&&e.contentDocument&&this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}patchAttachShadow(e,t){let n=this;this.restoreHandlers.push(Oe(e.prototype,"attachShadow",(function(e){return function(r){return r=e.call(this,r),this.shadowRoot&&Ue(this)&&n.addShadowRoot(this.shadowRoot,t),r}})))}reset(){this.restoreHandlers.forEach((e=>{try{e()}catch(e){}})),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}for(var bn="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Sn=0;64>Sn;Sn++)bn["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(Sn)]=Sn;var An=function(e){var t,n=(e=new Uint8Array(e)).length,r="";for(t=0;t<n;t+=3)r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e[t]>>2],r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(3&e[t])<<4|e[t+1]>>4],r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(15&e[t+1])<<2|e[t+2]>>6],r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[63&e[t+2]];return 2==n%3?r=r.substring(0,r.length-1)+"=":1==n%3&&(r=r.substring(0,r.length-2)+"=="),r};let kn=new Map,Tn=(e,t,n)=>{if(e&&(On(e,t)||"object"==typeof e)){t=e.constructor.name;var r=kn.get(n);return r||(r=new Map,kn.set(n,r)),r.has(t)||r.set(t,[]),-1===(t=(n=r.get(t)).indexOf(e))&&(t=n.length,n.push(e)),t}},Mn=(e,t,n)=>[...e].map((e=>tt(e,t,n))),On=(e,t)=>!!"WebGLActiveInfo WebGLBuffer WebGLFramebuffer WebGLProgram WebGLRenderbuffer WebGLShader WebGLShaderPrecisionFormat WebGLTexture WebGLUniformLocation WebGLVertexArrayObject WebGLVertexArrayObjectOES".split(" ").filter((e=>"function"==typeof t[e])).find((n=>e instanceof t[n]));var Nn,xn=function(e){var t;if(!(t=Nn)){t=null;var n=!1,r=atob("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwoKICAgIC8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KICAgIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLg0KDQogICAgUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55DQogICAgcHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLg0KDQogICAgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEgNCiAgICBSRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkNCiAgICBBTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsDQogICAgSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NDQogICAgTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1INCiAgICBPVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SDQogICAgUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS4NCiAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqLw0KDQogICAgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikgew0KICAgICAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH0NCiAgICAgICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7DQogICAgICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9DQogICAgICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvclsidGhyb3ciXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9DQogICAgICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfQ0KICAgICAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpOw0KICAgICAgICB9KTsNCiAgICB9CgogICAgLyoKICAgICAqIGJhc2U2NC1hcnJheWJ1ZmZlciAxLjAuMSA8aHR0cHM6Ly9naXRodWIuY29tL25pa2xhc3ZoL2Jhc2U2NC1hcnJheWJ1ZmZlcj4KICAgICAqIENvcHlyaWdodCAoYykgMjAyMSBOaWtsYXMgdm9uIEhlcnR6ZW4gPGh0dHBzOi8vaGVydHplbi5jb20+CiAgICAgKiBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZQogICAgICovCiAgICB2YXIgY2hhcnMgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyc7CiAgICAvLyBVc2UgYSBsb29rdXAgdGFibGUgdG8gZmluZCB0aGUgaW5kZXguCiAgICB2YXIgbG9va3VwID0gdHlwZW9mIFVpbnQ4QXJyYXkgPT09ICd1bmRlZmluZWQnID8gW10gOiBuZXcgVWludDhBcnJheSgyNTYpOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykgewogICAgICAgIGxvb2t1cFtjaGFycy5jaGFyQ29kZUF0KGkpXSA9IGk7CiAgICB9CiAgICB2YXIgZW5jb2RlID0gZnVuY3Rpb24gKGFycmF5YnVmZmVyKSB7CiAgICAgICAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlidWZmZXIpLCBpLCBsZW4gPSBieXRlcy5sZW5ndGgsIGJhc2U2NCA9ICcnOwogICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gMykgewogICAgICAgICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaV0gPj4gMl07CiAgICAgICAgICAgIGJhc2U2NCArPSBjaGFyc1soKGJ5dGVzW2ldICYgMykgPDwgNCkgfCAoYnl0ZXNbaSArIDFdID4+IDQpXTsKICAgICAgICAgICAgYmFzZTY0ICs9IGNoYXJzWygoYnl0ZXNbaSArIDFdICYgMTUpIDw8IDIpIHwgKGJ5dGVzW2kgKyAyXSA+PiA2KV07CiAgICAgICAgICAgIGJhc2U2NCArPSBjaGFyc1tieXRlc1tpICsgMl0gJiA2M107CiAgICAgICAgfQogICAgICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgICAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgJz0nOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgICAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgJz09JzsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGJhc2U2NDsKICAgIH07CgogICAgY29uc3QgbGFzdEJsb2JNYXAgPSBuZXcgTWFwKCk7DQogICAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gbmV3IE1hcCgpOw0KICAgIGZ1bmN0aW9uIGdldFRyYW5zcGFyZW50QmxvYkZvcih3aWR0aCwgaGVpZ2h0LCBkYXRhVVJMT3B0aW9ucykgew0KICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgew0KICAgICAgICAgICAgY29uc3QgaWQgPSBgJHt3aWR0aH0tJHtoZWlnaHR9YDsNCiAgICAgICAgICAgIGlmICgnT2Zmc2NyZWVuQ2FudmFzJyBpbiBnbG9iYWxUaGlzKSB7DQogICAgICAgICAgICAgICAgaWYgKHRyYW5zcGFyZW50QmxvYk1hcC5oYXMoaWQpKQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJhbnNwYXJlbnRCbG9iTWFwLmdldChpZCk7DQogICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsNCiAgICAgICAgICAgICAgICBvZmZzY3JlZW4uZ2V0Q29udGV4dCgnMmQnKTsNCiAgICAgICAgICAgICAgICBjb25zdCBibG9iID0geWllbGQgb2Zmc2NyZWVuLmNvbnZlcnRUb0Jsb2IoZGF0YVVSTE9wdGlvbnMpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0geWllbGQgYmxvYi5hcnJheUJ1ZmZlcigpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7DQogICAgICAgICAgICAgICAgdHJhbnNwYXJlbnRCbG9iTWFwLnNldChpZCwgYmFzZTY0KTsNCiAgICAgICAgICAgICAgICByZXR1cm4gYmFzZTY0Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgcmV0dXJuICcnOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9DQogICAgY29uc3Qgd29ya2VyID0gc2VsZjsNCiAgICB3b3JrZXIub25tZXNzYWdlID0gZnVuY3Rpb24gKGUpIHsNCiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHsNCiAgICAgICAgICAgIGlmICgnT2Zmc2NyZWVuQ2FudmFzJyBpbiBnbG9iYWxUaGlzKSB7DQogICAgICAgICAgICAgICAgY29uc3QgeyBpZCwgYml0bWFwLCB3aWR0aCwgaGVpZ2h0LCBkYXRhVVJMT3B0aW9ucyB9ID0gZS5kYXRhOw0KICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zKTsNCiAgICAgICAgICAgICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGN0eCA9IG9mZnNjcmVlbi5nZXRDb250ZXh0KCcyZCcpOw0KICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoYml0bWFwLCAwLCAwKTsNCiAgICAgICAgICAgICAgICBiaXRtYXAuY2xvc2UoKTsNCiAgICAgICAgICAgICAgICBjb25zdCBibG9iID0geWllbGQgb2Zmc2NyZWVuLmNvbnZlcnRUb0Jsb2IoZGF0YVVSTE9wdGlvbnMpOw0KICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBibG9iLnR5cGU7DQogICAgICAgICAgICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSB5aWVsZCBibG9iLmFycmF5QnVmZmVyKCk7DQogICAgICAgICAgICAgICAgY29uc3QgYmFzZTY0ID0gZW5jb2RlKGFycmF5QnVmZmVyKTsNCiAgICAgICAgICAgICAgICBpZiAoIWxhc3RCbG9iTWFwLmhhcyhpZCkgJiYgKHlpZWxkIHRyYW5zcGFyZW50QmFzZTY0KSA9PT0gYmFzZTY0KSB7DQogICAgICAgICAgICAgICAgICAgIGxhc3RCbG9iTWFwLnNldChpZCwgYmFzZTY0KTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmtlci5wb3N0TWVzc2FnZSh7IGlkIH0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7DQogICAgICAgICAgICAgICAgd29ya2VyLnBvc3RNZXNzYWdlKHsNCiAgICAgICAgICAgICAgICAgICAgaWQsDQogICAgICAgICAgICAgICAgICAgIHR5cGUsDQogICAgICAgICAgICAgICAgICAgIGJhc2U2NCwNCiAgICAgICAgICAgICAgICAgICAgd2lkdGgsDQogICAgICAgICAgICAgICAgICAgIGhlaWdodCwNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgfTsKCn0pKCk7Cgo=");if(n){n=new Uint8Array(r.length);for(var o=0,i=r.length;o<i;++o)n[o]=r.charCodeAt(o);r=String.fromCharCode.apply(null,new Uint16Array(n.buffer))}n=r.indexOf("\n",10)+1,t=r.substring(n)+(t?"//# sourceMappingURL="+t:""),t=new Blob([t],{type:"application/javascript"}),t=URL.createObjectURL(t)}return Nn=t,new Worker(Nn,e)};class En{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(e){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.locked=this.frozen=!1,this.processMutation=(e,t)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(e)||this.pendingCanvasMutations.set(e,[]),this.pendingCanvasMutations.get(e).push(t)};let{sampling:t="all",win:n,blockClass:r,blockSelector:o,recordCanvas:i,dataURLOptions:a}=e;this.mutationCb=e.mutationCb,this.mirror=e.mirror,i&&"all"===t&&this.initCanvasMutationObserver(n,r,o),i&&"number"==typeof t&&this.initCanvasFPSObserver(t,n,r,o,{dataURLOptions:a})}initCanvasFPSObserver(e,t,n,r,o){let i=nt(t,n,r,!0),a=new Map,s=new xn;s.onmessage=e=>{let{id:t}=e.data;if(a.set(t,!1),"base64"in e.data){var{base64:n,type:r,width:o,height:i}=e.data;this.mutationCb({id:t,type:un["2D"],commands:[{property:"clearRect",args:[0,0,o,i]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:n}],type:r}]},0,0]}]})}};let l,c=1e3/e,u=0,d=e=>{u&&e-u<c||(u=e,(()=>{const e=[];return t.document.querySelectorAll("canvas").forEach((t=>{Re(t,n,r,!0)||e.push(t)})),e})().forEach((e=>et(this,void 0,void 0,(function*(){var t;const n=this.mirror.getId(e);if(!a.get(n)){if(a.set(n,!0),["webgl","webgl2"].includes(e.__context)){const n=e.getContext(e.__context);!1===(null===(t=null==n?void 0:n.getContextAttributes())||void 0===t?void 0:t.preserveDrawingBuffer)&&n.clear(n.COLOR_BUFFER_BIT)}t=yield createImageBitmap(e),s.postMessage({id:n,bitmap:t,width:e.width,height:e.height,dataURLOptions:o.dataURLOptions},[t])}}))))),l=requestAnimationFrame(d)};l=requestAnimationFrame(d),this.resetObservers=()=>{i(),cancelAnimationFrame(l)}}initCanvasMutationObserver(e,t,n){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();let r=nt(e,t,n,!1),o=function(e,t,n,r){let o=[];var i=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(let a of i)try{if("function"!=typeof t.CanvasRenderingContext2D.prototype[a])continue;let i=Oe(t.CanvasRenderingContext2D.prototype,a,(function(o){return function(...i){return Re(this.canvas,n,r,!0)||setTimeout((()=>{const n=Mn([...i],t,this);e(this.canvas,{type:un["2D"],property:a,args:n})}),0),o.apply(this,i)}}));o.push(i)}catch(n){i=Me(t.CanvasRenderingContext2D.prototype,a,{set(t){e(this.canvas,{type:un["2D"],property:a,args:[t],setter:!0})}}),o.push(i)}return()=>{o.forEach((e=>e()))}}(this.processMutation.bind(this),e,t,n),i=function(e,t,n,r,o){let i=[];return i.push(...rt(t.WebGLRenderingContext.prototype,un.WebGL,e,n,r,o,t)),void 0!==t.WebGL2RenderingContext&&i.push(...rt(t.WebGL2RenderingContext.prototype,un.WebGL2,e,n,r,o,t)),()=>{i.forEach((e=>e()))}}(this.processMutation.bind(this),e,t,n,this.mirror);this.resetObservers=()=>{r(),o(),i()}}startPendingCanvasMutationFlusher(){requestAnimationFrame((()=>this.flushPendingCanvasMutations()))}startRAFTimestamping(){let e=t=>{this.rafStamps.latestId=t,requestAnimationFrame(e)};requestAnimationFrame(e)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach(((e,t)=>{e=this.mirror.getId(t),this.flushPendingCanvasMutationFor(t,e)})),requestAnimationFrame((()=>this.flushPendingCanvasMutations()))}flushPendingCanvasMutationFor(e,t){if(!this.frozen&&!this.locked){var n=this.pendingCanvasMutations.get(e);if(n&&-1!==t){var r=n.map((e=>{var t,n=["type"],r={};for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&0>n.indexOf(t)&&(r[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(t=Object.getOwnPropertySymbols(e);o<t.length;o++)0>n.indexOf(t[o])&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]])}return r}));({type:n}=n[0]),this.mutationCb({id:t,type:n,commands:r}),this.pendingCanvasMutations.delete(e)}}}}class Rn{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new on,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(0!==e.length){t={id:t,styleIds:[]};var n=[];for(let r of e){if(this.styleMirror.has(r))e=this.styleMirror.getId(r);else{e=this.styleMirror.add(r);let t=Array.from(r.rules||CSSRule);n.push({styleId:e,rules:t.map(((e,t)=>({rule:de(e),index:t})))})}t.styleIds.push(e)}0<n.length&&(t.styles=n),this.adoptedStyleSheetCb(t)}}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class Dn{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){requestAnimationFrame((()=>{this.clear(),this.loop&&this.periodicallyClear()}))}inOtherBuffer(e,t){return(e=this.nodeMap.get(e))&&Array.from(e).some((e=>e!==t))}add(e,t){this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}let Ln,Fn,Bn,Un=!1,Pn=new Ht;it.addCustomEvent=(e,t)=>{if(!Un)throw Error("please add custom event after start recording");Ln(ot({type:an.Custom,data:{tag:e,payload:t}}))},it.freezePage=()=>{mn.forEach((e=>e.freeze()))},it.takeFullSnapshot=e=>{if(!Un)throw Error("please take full snapshot after start recording");Fn(e)},it.mirror=Pn;var Vn=Uint8Array,Wn=Uint16Array,_n=Int32Array,Gn=new Vn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Zn=new Vn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),jn=new Vn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),zn=function(e,t){for(var n=new Wn(31),r=0;31>r;++r)n[r]=t+=1<<e[r-1];for(e=new _n(n[30]),r=1;30>r;++r)for(t=n[r];t<n[r+1];++t)e[t]=t-n[r]<<5|r;return{b:n,r:e}},Kn=zn(Gn,2),Hn=Kn.r;Kn.b[28]=258,Hn[258]=28;for(var Jn=zn(Zn,0).r,Yn=new Wn(32768),Qn=0;32768>Qn;++Qn){var Xn=(43690&Qn)>>1|(21845&Qn)<<1;Xn=(61680&(Xn=(52428&Xn)>>2|(13107&Xn)<<2))>>4|(3855&Xn)<<4,Yn[Qn]=((65280&Xn)>>8|(255&Xn)<<8)>>1}var qn=function(e,t,n){for(var r=e.length,o=0,i=new Wn(t);o<r;++o)e[o]&&++i[e[o]-1];var a=new Wn(t);for(o=1;o<t;++o)a[o]=a[o-1]+i[o-1]<<1;if(n){for(n=new Wn(1<<t),i=15-t,o=0;o<r;++o)if(e[o]){var s=o<<4|e[o],l=t-e[o],c=a[e[o]-1]++<<l;for(l=c|(1<<l)-1;c<=l;++c)n[Yn[c]>>i]=s}}else for(n=new Wn(r),o=0;o<r;++o)e[o]&&(n[o]=Yn[a[e[o]-1]++]>>15-e[o]);return n},$n=new Vn(288);for(Qn=0;144>Qn;++Qn)$n[Qn]=8;for(Qn=144;256>Qn;++Qn)$n[Qn]=9;for(Qn=256;280>Qn;++Qn)$n[Qn]=7;for(Qn=280;288>Qn;++Qn)$n[Qn]=8;var er=new Vn(32);for(Qn=0;32>Qn;++Qn)er[Qn]=5;var tr=qn($n,9,0);qn($n,9,1);var nr=qn(er,5,0);qn(er,5,1);var rr=function(e,t,n){return(null==t||0>t)&&(t=0),(null==n||n>e.length)&&(n=e.length),new Vn(e.subarray(t,n))},or=function(e,t,n){n<<=7&t,e[t=t/8|0]|=n,e[t+1]|=n>>8},ir=function(e,t,n){n<<=7&t,e[t=t/8|0]|=n,e[t+1]|=n>>8,e[t+2]|=n>>16},ar=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var o=n.length;if(e=n.slice(),!o)return{t:pr,l:0};if(1==o)return(t=new Vn(n[0].s+1))[n[0].s]=1,{t:t,l:1};n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001}),r=n[0];var i=n[1],a=0,s=1,l=2;for(n[0]={s:-1,f:r.f+i.f,l:r,r:i};s!=o-1;)r=n[n[a].f<n[l].f?a++:l++],i=n[a!=s&&n[a].f<n[l].f?a++:l++],n[s++]={s:-1,f:r.f+i.f,l:r,r:i};for(i=e[0].s,r=1;r<o;++r)e[r].s>i&&(i=e[r].s);var c=new Wn(i+1);if((s=sr(n[s-1],c,0))>t){for(n=r=0,a=1<<(i=s-t),e.sort((function(e,t){return c[t.s]-c[e.s]||e.f-t.f}));r<o&&(l=e[r].s,c[l]>t);++r)n+=a-(1<<s-c[l]),c[l]=t;for(n>>=i;0<n;)o=e[r].s,c[o]<t?n-=1<<t-c[o]++-1:++r;for(;0<=r&&n;--r)o=e[r].s,c[o]==t&&(--c[o],++n);s=t}return{t:new Vn(c),l:s}},sr=function(e,t,n){return-1==e.s?Math.max(sr(e.l,t,n+1),sr(e.r,t,n+1)):t[e.s]=n},lr=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Wn(++t),r=0,o=e[0],i=1,a=function(e){n[r++]=e},s=1;s<=t;++s)if(e[s]==o&&s!=t)++i;else{if(!o&&2<i){for(;138<i;i-=138)a(32754);2<i&&(a(10<i?i-11<<5|28690:i-3<<5|12305),i=0)}else if(3<i){for(a(o),--i;6<i;i-=6)a(8304);2<i&&(a(i-3<<5|8208),i=0)}for(;i--;)a(o);i=1,o=e[s]}return{c:n.subarray(0,r),n:t}},cr=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},ur=function(e,t,n){var r=n.length;e[t=(t+2+7)/8|0]=255&r,e[t+1]=r>>8,e[t+2]=255^e[t],e[t+3]=255^e[t+1];for(var o=0;o<r;++o)e[t+o+4]=n[o];return 8*(t+4+r)},dr=function(e,t,n,r,o,i,a,s,l,c,u){or(t,u++,n),++o[256];for(var d=(n=ar(o,15)).t,f=n.l,p=(n=ar(i,15)).t,h=n.l,g=(n=lr(d)).c,m=n.n,y=(n=lr(p)).c,v=n.n,I=new Wn(19),C=0;C<g.length;++C)++I[31&g[C]];for(C=0;C<y.length;++C)++I[31&y[C]];n=(C=ar(I,7)).t,C=C.l;for(var w=19;4<w&&!n[jn[w-1]];--w);var b=c+5<<3,S=cr(o,$n)+cr(i,er)+a;if(o=cr(o,d)+cr(i,p)+a+14+3*w+cr(I,n)+2*I[16]+3*I[17]+7*I[18],0<=l&&b<=S&&b<=o)return ur(t,u,e.subarray(l,l+c));if(or(t,u,1+(o<S)),u+=2,o<S){for(e=qn(d,f,0),l=d,c=qn(p,h,0),d=qn(n,C,0),or(t,u,m-257),or(t,u+5,v-1),or(t,u+10,w-4),u+=14,C=0;C<w;++C)or(t,u+3*C,n[jn[C]]);for(u+=3*w,m=[g,y],y=0;2>y;++y)for(v=m[y],C=0;C<v.length;++C)g=31&v[C],or(t,u,d[g]),u+=n[g],15<g&&(or(t,u,v[C]>>5&127),u+=v[C]>>12)}else e=tr,l=$n,c=nr,p=er;for(C=0;C<s;++C)255<(n=r[C])?(ir(t,u,e[(g=n>>18&31)+257]),u+=l[g+257],7<g&&(or(t,u,n>>23&31),u+=Gn[g]),ir(t,u,c[g=31&n]),u+=p[g],3<g&&(ir(t,u,n>>5&8191),u+=Zn[g])):(ir(t,u,e[n]),u+=l[n]);return ir(t,u,e[256]),u+l[256]},fr=new _n([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),pr=new Vn(0),hr=function(e,t,n,r,o,i){var a=i.z||e.length,s=new Vn(r+a+5*(1+Math.ceil(a/7e3))+o),l=s.subarray(r,s.length-o),c=i.l,u=7&(i.r||0);if(t){u&&(l[0]=i.r>>3);var d=fr[t-1];t=d>>13,d&=8191;var f=(1<<n)-1,p=i.p||new Wn(32768),h=i.h||new Wn(f+1),g=Math.ceil(n/3),m=2*g,y=function(t){return(e[t]^e[t+1]<<g^e[t+2]<<m)&f},v=new _n(25e3),I=new Wn(288),C=new Wn(32),w=0,b=0;n=i.i||0;for(var S=0,A=i.w||0,k=0;n+2<a;++n){var T=y(n),M=32767&n,O=h[T];if(p[M]=O,h[T]=M,A<=n){var N=a-n;if((7e3<w||24576<S)&&(423<N||!c)){u=dr(e,l,0,v,I,C,b,S,k,n-k,u),S=w=b=0,k=n;for(var x=0;286>x;++x)I[x]=0;for(x=0;30>x;++x)C[x]=0}var E=2,R=0,D=d,L=M-O&32767;if(2<N&&T==y(n-L)){T=Math.min(t,N)-1;var F=Math.min(32767,n);for(N=Math.min(258,N);L<=F&&--D&&M!=O;){if(e[n+E]==e[n+E-L]){for(x=0;x<N&&e[n+x]==e[n+x-L];++x);if(x>E){if(E=x,R=L,x>T)break;M=Math.min(L,x-2);var B=0;for(x=0;x<M;++x){var U=n-L+x&32767,P=U-p[U]&32767;P>B&&(B=P,O=U)}}}L+=(M=O)-(O=p[M])&32767}}R?(v[S++]=268435456|Hn[E]<<18|Jn[R],A=31&Hn[E],R=31&Jn[R],b+=Gn[A]+Zn[R],++I[257+A],++C[R],A=n+E,++w):(v[S++]=e[n],++I[e[n]])}}for(n=Math.max(n,A);n<a;++n)v[S++]=e[n],++I[e[n]];u=dr(e,l,c,v,I,C,b,S,k,n-k,u),c||(i.r=7&u|l[u/8|0]<<3,u-=7,i.h=h,i.p=p,i.i=n,i.w=A)}else{for(n=i.w||0;n<a+c;n+=65535)(t=n+65535)>=a&&(l[u/8|0]=c,t=a),u=ur(l,u+1,e.subarray(n,t));i.i=a}return rr(s,0,r+((u+7)/8|0)+o)};!function(){for(var e=new Int32Array(256),t=0;256>t;++t){for(var n=t,r=9;--r;)n=(1&n&&-306674912)^n>>>1;e[t]=n}}();var gr=function(){var e=1,t=0;return{p:function(n){for(var r=e,o=t,i=0|n.length,a=0;a!=i;){for(var s=Math.min(a+2655,i);a<s;++a)o+=r+=n[a];r=(65535&r)+15*(r>>16),o=(65535&o)+15*(o>>16)}e=r,t=o},d:function(){return(255&(e%=65521))<<24|(65280&e)<<8|(255&(t%=65521))<<8|t>>8}}},mr="undefined"!=typeof TextEncoder&&new TextEncoder,yr="undefined"!=typeof TextDecoder&&new TextDecoder;try{yr.decode(pr,{stream:!0})}catch(kt){}var vr=[],Ir="",Cr=function(){if(document.location.href!==Ir){Ir=document.location.href;for(var e=0,t=vr;e<t.length;e++)(0,t[e])()}},wr=[],br=void 0,Sr=function(){wr.push({type:4,data:{href:window.location.href,width:window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth,height:window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight},timestamp:String((new Date).getTime())})},Ar=[],kr=[],Tr=function(){Ar.push(document.location.href),setTimeout((function(){if(0<Ar.length)for(var e=0;e<kr.length;e++)kr[e].trackPageView()}),100)},Mr={spa:function(){return st(Tr),{activateBrowserPlugin:function(e){kr.push(e)},afterTrack:function(e){if("pv"===e.e)for(var t in Ar)if(Ar[t]===document.location.href){Ar.splice(Number(t),1);break}}}}},Or=function(e,t,n){e.core.track(T({event:{schema:"iglu:com.leadinfo/cookie/jsonschema/1-0-0",data:{name:t,value:n}}}))},Nr={cs:function(){return{activateBrowserPlugin:function(e){for(var t=0,n=document.cookie.split(";");t<n.length;t++){var r=n[t].split("="),o=String(r.shift()).trim();switch(r=String(r.join("=")).trim(),o){case"hubspotutk":case"__ss_tk":case"_ga":Or(e,o,r);break;default:null!=o&&o.startsWith("_pk_id")&&Or(e,o,r)}}}}}},xr={engage:function(){return{contexts:function(){var e=[],t=P("_hamawy");return t&&e.push({schema:"iglu:com.leadinfo/engage/jsonschema/1-0-0",data:{leclid:t}}),e}}}},Er=window.GlobalLeadinfoNamespace.shift(),Rr=window[Er],Dr=window[Er];Dr.cl=!1,Dr.lgfDemoMount=function(e,t){},Dr.lgfDemoUnmount=function(){},function(){t(this,void 0,void 0,(function(){var e,t,r,o,i,a,s,l,c,u,d;return n(this,(function(n){switch(n.label){case 0:e=new URLSearchParams(window.location.search),null!=(t=e.get("leclid"))&&6===t.split("-").length&&P("_hamawy",t,31536e6,"/",void 0,"Lax"),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Promise.all([ae(Dr.t),se(Dr.t)])];case 2:return d=n.sent(),r=d[0],o=d[1],[3,4];case 3:return i=n.sent(),console.log(i),[2];case 4:return Dr.q=[],a=null!=o,s=null!=r.recording,l=null!=r.cookie,navigator.vendor&&-1<navigator.vendor.indexOf("Apple")&&navigator.userAgent&&-1==navigator.userAgent.indexOf("CriOS")&&-1==navigator.userAgent.indexOf("FxiOS")&&(s=!1),c=s||l,Rr("newTracker","cl1","https://collector.leadinfo.net",{appId:Dr.t,cookieName:"_li_",stateStorageStrategy:c?"localStorage":"none",eventMethod:"post",anonymousTracking:!1,contexts:{webPage:!0}}),a&&s?(Rr("newTracker","cl2","https://collector.leadinfo.net",{appId:Dr.t,cookieName:"_li_",eventMethod:"post",stateStorageStrategy:"localStorage",anonymousTracking:{withSessionTracking:!0},postPath:"/net.leadinfo.collector/tp2"}),[4,new Promise((function(e){br=it({emit:function(e){wr.push(e)},sampling:{scroll:500,media:800,input:"last"},maskAllInputs:!0,inlineStylesheet:!0,collectFonts:!0,slimDOMOptions:"all"}),st(Sr),e()}))]):[3,6];case 5:n.sent(),n.label=6;case 6:return c||Rr("setUserId:cl1",function(){var e,t,n,r,o,i,a,s,l=(null===(e=null===window||void 0===window?void 0:window.navigator)||void 0===e?void 0:e.userAgent)+(null===(n=null===(t=null===window||void 0===window?void 0:window.navigator)||void 0===t?void 0:t.languages)||void 0===n?void 0:n.join(","))+(null===(r=null===window||void 0===window?void 0:window.navigator)||void 0===r?void 0:r.vendor)+(null===(o=null===window||void 0===window?void 0:window.screen)||void 0===o?void 0:o.pixelDepth);return e=(null===(i=null===window||void 0===window?void 0:window.screen)||void 0===i?void 0:i.colorDepth)+(null===window||void 0===window?void 0:window.devicePixelRatio)+(0==Math.abs(window.orientation)-90?"landscape":"portrait")+(null===(a=null===window||void 0===window?void 0:window.screen)||void 0===a?void 0:a.availHeight)+(null===(s=null===window||void 0===window?void 0:window.screen)||void 0===s?void 0:s.availWidth),l=(i=function(e,t){void 0===t&&(t=0);var n=3735928559^t;t^=1103547991;for(var r,o=0;o<e.length;o++)r=e.charCodeAt(o),n=Math.imul(n^r,2654435761),t=Math.imul(t^r,1597334677);return n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(t^t>>>13,3266489909),t=Math.imul(t^t>>>16,2246822507),4294967296*(2097151&(t^=Math.imul(n^n>>>13,3266489909)))+(n>>>0)})(l).toString(16),i=i(e).toString(16),l=String(l+i).padEnd(32,"1f9d3c707d53f3d16c53dd73d70a6ce7596a9").substring(0,32),a=10>(i=new Date).getMonth()+1?"0"+(i.getMonth()+1):i.getMonth()+1,s=2>String(i.getDate()).length?"0"+i.getDate():i.getDate(),l+"-"+i.getFullYear()+a+s}()),Rr("addPlugin:cl1",Mr,"spa"),Rr("addPlugin:cl1",Nr,"cs"),Rr("addPlugin:cl1",xr,"engage"),Rr("enableActivityTracking:cl1",{minimumVisitLength:10,heartbeatDelay:10}),Rr("trackPageView:cl1"),function(e){var t={fields:{transform:function(e){if(-1!==(e=String(e)).indexOf("@")&&-1!==e.indexOf(".")){for(var t,n=/[a-zA-Z0-9-_.]+@[a-zA-Z0-9-_.]+[.][a-zA-Z]+/gi,r=[],o=0;t=n.exec(e);){var i=(t=t[0].split("@"))[0].length;if(3>i){for(var a="";0<i;)a+="x",i--;t[0]=a}else{for(i-=2,a="";0<i;)a+="x",i--;t[0]=t[0].substr(0,1)+a+t[0].substr(-1)}if(r.push(t.join("@")),100===o)break;o++}return r.join(" ")}return null}}},n=function(r){e("enableFormTracking:cl1",t),setTimeout(n,1e3*r,r<<1)};n(2)}(Rr),u=ie(Er,Dr.q).push,Dr.q={push:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];"trackPageView"===e[0]&&(e[0]="trackPageView:cl1"),u.apply(void 0,e)}},lt(a&&s,(function(e,t,n,r,i){null!=o&&Rr("trackSelfDescribingEvent:cl2",{event:{schema:"iglu:com.leadinfo/track_mouse/jsonschema/1-0-0",data:{event:e,chunkIndex:t,chunkTotal:n,timestamp:r,type:i,companyId:o.id}}})})),Dr.identify=o,Dr.c=r,Dr.cl=!0,[2]}}))}))}()}();

